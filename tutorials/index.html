
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Build AI Agents with Natural Language Programming">
      
      
      
        <link rel="canonical" href="https://github.com/playbooks-ai/playbooks/tutorials/">
      
      
        <link rel="prev" href="../programming-guide/">
      
      
        <link rel="next" href="../reference/">
      
      
      <link rel="icon" href="../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.12">
    
    
      
        <title>Tutorial - Playbooks AI</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.2afb09e1.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Google+Sans:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Google Sans";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../assets/stylesheets/custom.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-KSV70W8EXP"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-KSV70W8EXP",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-KSV70W8EXP",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="slate" data-md-color-accent="slate">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#tutorial-building-an-order-status-assistant" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Playbooks AI" class="md-header__button md-logo" aria-label="Playbooks AI" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80v352c0 17.4 9.4 33.4 24.5 41.9S58.2 482 73 473l288-176c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Playbooks AI
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Tutorial
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="slate" data-md-color-accent="slate"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/playbooks-ai/playbooks" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    playbooks
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Playbooks AI" class="md-nav__button md-logo" aria-label="Playbooks AI" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80v352c0 17.4 9.4 33.4 24.5 41.9S58.2 482 73 473l288-176c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41z"/></svg>

    </a>
    Playbooks AI
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/playbooks-ai/playbooks" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    playbooks
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../getting-started/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/ai-assistants/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AI Coding Assistants
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/migrating/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Migrating from Other Agent Frameworks
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../programming-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Programming Guide
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Tutorial
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Tutorial
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-hello-world" class="md-nav__link">
    <span class="md-ellipsis">
      1) Hello, world!
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1) Hello, world!">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#0101-lets-begin" class="md-nav__link">
    <span class="md-ellipsis">
      01.01 Let's begin
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#0102-prompt-tuning" class="md-nav__link">
    <span class="md-ellipsis">
      01.02 Prompt Tuning
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-ask-for-user-input" class="md-nav__link">
    <span class="md-ellipsis">
      2) Ask for user input
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2) Ask for user input">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#0201-user-input" class="md-nav__link">
    <span class="md-ellipsis">
      02.01 User input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#0202-conversational-input" class="md-nav__link">
    <span class="md-ellipsis">
      02.02 Conversational Input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#0203-agent-behavior" class="md-nav__link">
    <span class="md-ellipsis">
      02.03 Agent Behavior
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-validating-the-input" class="md-nav__link">
    <span class="md-ellipsis">
      3) Validating the input
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3) Validating the input">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#0301-validation-playbook" class="md-nav__link">
    <span class="md-ellipsis">
      03.01 Validation Playbook
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#0302-using-triggers" class="md-nav__link">
    <span class="md-ellipsis">
      03.02 Using Triggers
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-mixing-python-and-markdown-playbooks" class="md-nav__link">
    <span class="md-ellipsis">
      4) Mixing Python and Markdown Playbooks
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4) Mixing Python and Markdown Playbooks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#0401-markdown-python" class="md-nav__link">
    <span class="md-ellipsis">
      04.01 Markdown → Python
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#0402-python-markdown" class="md-nav__link">
    <span class="md-ellipsis">
      04.02 Python → Markdown
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#0403-description-placeholders" class="md-nav__link">
    <span class="md-ellipsis">
      04.03 Description Placeholders
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Next Steps
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../reference/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration System
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Supported Models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/playbooks-ai/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Playbooks AI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/playbooks-language/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Playbooks Language
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/playbooks-assembly-language/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Playbooks Assembly Language
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/playbooks-traditional-comparison/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Playbooks vs Traditional Frameworks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Agents
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/mcp-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MCP based Agents
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/exported-and-public-playbooks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Exported and Public Playbooks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/playbook-types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Playbook Types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/builtin-playbooks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Built-in Playbooks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/triggers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Triggers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/context-engineering/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Context Engineering
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/description-placeholders/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Description Placeholders
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-hello-world" class="md-nav__link">
    <span class="md-ellipsis">
      1) Hello, world!
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1) Hello, world!">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#0101-lets-begin" class="md-nav__link">
    <span class="md-ellipsis">
      01.01 Let's begin
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#0102-prompt-tuning" class="md-nav__link">
    <span class="md-ellipsis">
      01.02 Prompt Tuning
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-ask-for-user-input" class="md-nav__link">
    <span class="md-ellipsis">
      2) Ask for user input
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2) Ask for user input">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#0201-user-input" class="md-nav__link">
    <span class="md-ellipsis">
      02.01 User input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#0202-conversational-input" class="md-nav__link">
    <span class="md-ellipsis">
      02.02 Conversational Input
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#0203-agent-behavior" class="md-nav__link">
    <span class="md-ellipsis">
      02.03 Agent Behavior
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-validating-the-input" class="md-nav__link">
    <span class="md-ellipsis">
      3) Validating the input
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3) Validating the input">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#0301-validation-playbook" class="md-nav__link">
    <span class="md-ellipsis">
      03.01 Validation Playbook
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#0302-using-triggers" class="md-nav__link">
    <span class="md-ellipsis">
      03.02 Using Triggers
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-mixing-python-and-markdown-playbooks" class="md-nav__link">
    <span class="md-ellipsis">
      4) Mixing Python and Markdown Playbooks
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4) Mixing Python and Markdown Playbooks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#0401-markdown-python" class="md-nav__link">
    <span class="md-ellipsis">
      04.01 Markdown → Python
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#0402-python-markdown" class="md-nav__link">
    <span class="md-ellipsis">
      04.02 Python → Markdown
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#0403-description-placeholders" class="md-nav__link">
    <span class="md-ellipsis">
      04.03 Description Placeholders
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Next Steps
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="tutorial-building-an-order-status-assistant">Tutorial: Building an Order Status Assistant<a class="headerlink" href="#tutorial-building-an-order-status-assistant" title="Permanent link">&para;</a></h1>
<p><strong>Goal</strong>: Learn Playbooks by building a customer support AI assistant that checks order status. You'll start with "hello world" and progressively add user input, validation, Python playbooks, and more.</p>
<p><strong>What you'll learn</strong>:</p>
<ul>
<li>Writing your first agent and playbook</li>
<li>Collecting and validating user input</li>
<li>Using triggers for automatic validation</li>
<li>Mixing Python and Markdown playbooks</li>
<li>Injecting dynamic context with description placeholders</li>
</ul>
<p><strong>Prerequisites</strong> (see <a href="../getting-started/">Getting Started</a>):</p>
<ul>
<li>Installed Playbooks</li>
<li>Successfully ran a program using <code>playbooks run &lt;program&gt;.pb</code></li>
</ul>
<p><img alt="ℹ" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2139.svg" title=":information_source:" /> <strong>Code</strong>: All examples available <a href="https://github.com/playbooks-ai/playbooks/tree/master/examples/tutorials">here</a></p>
<p><img alt="💡" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a1.svg" title=":bulb:" /> <strong>New to Playbooks?</strong> This tutorial teaches by example. For comprehensive reference, see the <a href="../programming-guide/">Programming Guide</a>.</p>
<hr />
<h2 id="1-hello-world">1) Hello, world!<a class="headerlink" href="#1-hello-world" title="Permanent link">&para;</a></h2>
<h3 id="0101-lets-begin">01.01 Let's begin<a class="headerlink" href="#0101-lets-begin" title="Permanent link">&para;</a></h3>
<p>examples/tutorials/01.01/<a href="https://github.com/playbooks-ai/playbooks/tree/master/examples/tutorials/01.01/order_assistant.pb">order_assistant.pb</a></p>
<div class="language-markdown highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">order_assistant.pb</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span>
<span class="normal"><a href="#__codelineno-0-2">2</a></span>
<span class="normal"><a href="#__codelineno-0-3">3</a></span>
<span class="normal"><a href="#__codelineno-0-4">4</a></span>
<span class="normal"><a href="#__codelineno-0-5">5</a></span>
<span class="normal"><a href="#__codelineno-0-6">6</a></span>
<span class="normal"><a href="#__codelineno-0-7">7</a></span>
<span class="normal"><a href="#__codelineno-0-8">8</a></span>
<span class="normal"><a href="#__codelineno-0-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__codeline__-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="gh"># Order Support Agent</span>
</span><span id="__codeline__-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2"></a>You are an agent that greets users and helps with order questions.
</span><span id="__codeline__-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3"></a>
</span><span id="__codeline__-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="gu">## Main</span>
</span><span id="__codeline__-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5"></a><span class="gu">### Triggers</span>
</span><span id="__codeline__-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="k">-</span><span class="w"> </span>At the beginning
</span><span id="__codeline__-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7"></a><span class="gu">### Steps</span>
</span><span id="__codeline__-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8"></a><span class="k">-</span><span class="w"> </span>Greet the user and explain what you can help with
</span><span id="__codeline__-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9"></a><span class="k">-</span><span class="w"> </span>End program
</span></code></pre></div></td></tr></table></div>
<p>Note:</p>
<ul>
<li>Line 1: <code># Order Support Agent</code> creates an agent. </li>
<li>Line 3: <code>## Main</code> defines a playbook, which is triggered automatically at the beginning (line 6) of the program execution. </li>
<li>Line 7: <code>### Steps</code> lists the steps to be executed.</li>
</ul>
<details>
<summary>Output</summary>
<div class="language-text highlight"><pre><span></span><code><span id="__codeline__-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>&gt; playbooks run examples/tutorials/01.01/order_assistant.pb
</span><span id="__codeline__-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>ℹ Loading playbooks from: [&#39;examples/tutorials/01.01/order_assistant.pb&#39;]
</span><span id="__codeline__-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>  Compiling agent: Order Support Agent
</span><span id="__codeline__-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>
</span><span id="__codeline__-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>OrderSupportAgent: Hello! I&#39;m your Order Support Agent. I&#39;m here to help you with any questions or issues related to your orders. Whether you need to check order status, make changes, handle returns, or resolve any order-related concerns, I&#39;m ready to assist you. How can I help you today?
</span></code></pre></div>
</details>

<p><img alt="💡" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a1.svg" title=":bulb:" /> Playbooks framework caches LLM responses by default. So, if you run the program again, compilation will be skipped and you will see the same output. The cache can be disabled using a <code>playbooks.toml</code> <a href="../reference/config/">configuration file</a>.</p>
<p><img alt="❗" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/2757.svg" title=":exclamation:" /> Notice that in the output, the agent listed capabilities that we haven't provided playbooks for.</p>
<p>Let's improve this by asking the agent to only list capabilties corresponding to the playbooks that we have provided.</p>
<h3 id="0102-prompt-tuning">01.02 Prompt Tuning<a class="headerlink" href="#0102-prompt-tuning" title="Permanent link">&para;</a></h3>
<p>examples/tutorials/01.02/<a href="https://github.com/playbooks-ai/playbooks/tree/master/examples/tutorials/01.02/order_assistant.pb">order_assistant.pb</a>
<div class="language-markdown highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">order_assistant.pb</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1">1</a></span>
<span class="normal"><a href="#__codelineno-2-2">2</a></span>
<span class="normal"><a href="#__codelineno-2-3">3</a></span>
<span class="normal"><a href="#__codelineno-2-4">4</a></span>
<span class="normal"><a href="#__codelineno-2-5">5</a></span>
<span class="normal"><a href="#__codelineno-2-6">6</a></span>
<span class="normal"><a href="#__codelineno-2-7">7</a></span>
<span class="normal"><a href="#__codelineno-2-8">8</a></span>
<span class="normal"><a href="#__codelineno-2-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__codeline__-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="gh"># Order Support Agent</span>
</span><span id="__codeline__-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2"></a>You are an agent that greets users and helps with order questions. Note that your capabilities are limited to the playbooks defined below.
</span><span id="__codeline__-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3"></a>
</span><span id="__codeline__-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4"></a><span class="gu">## Main</span>
</span><span id="__codeline__-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5"></a><span class="gu">### Triggers</span>
</span><span id="__codeline__-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6"></a><span class="k">-</span><span class="w"> </span>At the beginning
</span><span id="__codeline__-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7"></a><span class="gu">### Steps</span>
</span><span id="__codeline__-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8"></a><span class="k">-</span><span class="w"> </span>Greet the user and explain what you can help with
</span><span id="__codeline__-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9"></a><span class="k">-</span><span class="w"> </span>End program
</span></code></pre></div></td></tr></table></div></p>
<p>Changes:</p>
<ul>
<li>Line 2: We added extra instructions to the agent.</li>
</ul>
<details>
<summary>Output</summary>

<div class="language-text highlight"><pre><span></span><code><span id="__codeline__-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>&gt; playbooks run examples/tutorials/01.02/order_assistant.pb
</span><span id="__codeline__-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>ℹ Loading playbooks from: [&#39;examples/tutorials/01.02/order_assistant.pb&#39;]
</span><span id="__codeline__-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>  Compiling agent: Order Support Agent
</span><span id="__codeline__-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>
</span><span id="__codeline__-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>OrderSupportAgent: Hello! I&#39;m your Order Support Agent. I&#39;m here to help you with any questions about your orders. However, I should let you know that my capabilities are currently limited to greeting you and providing this basic information. How can I assist you today?
</span></code></pre></div>
</details>

<p>Much better!</p>
<hr />
<h2 id="2-ask-for-user-input">2) Ask for user input<a class="headerlink" href="#2-ask-for-user-input" title="Permanent link">&para;</a></h2>
<p>Let's ask the user for their order id.</p>
<h3 id="0201-user-input">02.01 User input<a class="headerlink" href="#0201-user-input" title="Permanent link">&para;</a></h3>
<p>examples/tutorials/02.01/<a href="https://github.com/playbooks-ai/playbooks/tree/master/examples/tutorials/02.01/order_assistant.pb">order_assistant.pb</a></p>
<div class="language-markdown highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">order_assistant.pb</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-4-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-4-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-4-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-4-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-4-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-4-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-4-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-4-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-4-10">10</a></span>
<span class="normal"><a href="#__codelineno-4-11">11</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__codeline__-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="gh"># Order Support Agent</span>
</span><span id="__codeline__-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2"></a>You are an agent that greets users and helps with order questions. Note that your capabilities are limited to the playbooks defined below.
</span><span id="__codeline__-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3"></a>
</span><span id="__codeline__-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="gu">## Main</span>
</span><span id="__codeline__-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5"></a><span class="gu">### Triggers</span>
</span><span id="__codeline__-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6"></a><span class="k">-</span><span class="w"> </span>At the beginning
</span><span id="__codeline__-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7"></a><span class="gu">### Steps</span>
</span><span id="__codeline__-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8"></a><span class="k">-</span><span class="w"> </span>Greet the user and explain what you can help with
</span><span id="__codeline__-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9"></a><span class="k">-</span><span class="w"> </span>Ask user for their order id
</span><span id="__codeline__-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10"></a><span class="k">-</span><span class="w"> </span>Thank the user for providing the order id
</span><span id="__codeline__-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11"></a><span class="k">-</span><span class="w"> </span>End program
</span></code></pre></div></td></tr></table></div>
<p>Changes:</p>
<ul>
<li>Line 9: Here we ask the user for their order id.</li>
<li>Line 10: New step to thank the user for providing the order id.</li>
</ul>
<details>
<summary>Output</summary>

<div class="language-text highlight"><pre><span></span><code><span id="__codeline__-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>&gt; playbooks run examples/tutorials/02.01/order_assistant.pb
</span><span id="__codeline__-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>ℹ Loading playbooks from: [&#39;examples/tutorials/02.01/order_assistant.pb&#39;]
</span><span id="__codeline__-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>
</span><span id="__codeline__-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>OrderSupportAgent: Hello! I&#39;m your Order Support Agent. I&#39;m here to help you with any questions about your orders. I can assist you with order status, tracking information, and other order-related inquiries.
</span><span id="__codeline__-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>
</span><span id="__codeline__-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>OrderSupportAgent: To get started, could you please provide me with your order ID?
</span><span id="__codeline__-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>
</span><span id="__codeline__-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>User: 47463874
</span><span id="__codeline__-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>
</span><span id="__codeline__-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>OrderSupportAgent: Thank you for providing your order ID: 47463874. I have recorded this information.
</span></code></pre></div>
</details>

<h3 id="0202-conversational-input">02.02 Conversational Input<a class="headerlink" href="#0202-conversational-input" title="Permanent link">&para;</a></h3>
<p>We want the agent to wait on line 9 until the user provides their order id. Let's add that instruction.</p>
<p>examples/tutorials/02.02/<a href="https://github.com/playbooks-ai/playbooks/tree/master/examples/tutorials/02.02/order_assistant.pb">order_assistant.pb</a></p>
<div class="language-markdown highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">order_assistant.pb</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-6-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-6-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-6-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-6-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-6-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-6-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-6-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-6-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-6-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-6-10">10</a></span>
<span class="normal"><a href="#__codelineno-6-11">11</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__codeline__-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1"></a><span class="gh"># Order Support Agent</span>
</span><span id="__codeline__-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2"></a>You are an agent that greets users and helps with order questions. Note that your capabilities are limited to the playbooks defined below.
</span><span id="__codeline__-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3"></a>
</span><span id="__codeline__-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4"></a><span class="gu">## Main</span>
</span><span id="__codeline__-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5"></a><span class="gu">### Triggers</span>
</span><span id="__codeline__-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6"></a><span class="k">-</span><span class="w"> </span>At the beginning
</span><span id="__codeline__-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7"></a><span class="gu">### Steps</span>
</span><span id="__codeline__-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8"></a><span class="k">-</span><span class="w"> </span>Greet the user and explain what you can help with
</span><span id="__codeline__-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9"></a><span class="k">-</span><span class="w"> </span>Ask user for their order id; engage in a conversation as needed
</span><span id="__codeline__-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10"></a><span class="k">-</span><span class="w"> </span>Thank the user for providing the order id
</span><span id="__codeline__-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11"></a><span class="k">-</span><span class="w"> </span>End program
</span></code></pre></div></td></tr></table></div>
<p>Changes:</p>
<ul>
<li>Line 9: Here we add a new step to engage in a conversation as needed.</li>
</ul>
<details>
<summary>Output</summary>

<div class="language-text highlight"><pre><span></span><code><span id="__codeline__-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>&gt; playbooks run examples/tutorials/02.02/order_assistant.pb
</span><span id="__codeline__-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>ℹ Loading playbooks from: [&#39;examples/tutorials/02.02/order_assistant.pb&#39;]
</span><span id="__codeline__-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>  Compiling agent: Order Support Agent
</span><span id="__codeline__-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>
</span><span id="__codeline__-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>OrderSupportAgent: Hello! I&#39;m your Order Support Agent. I&#39;m here to help you with any questions about your orders. I can assist you with order status, tracking information, and other order-related inquiries.
</span><span id="__codeline__-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>
</span><span id="__codeline__-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>OrderSupportAgent: To get started, could you please provide me with your order ID? This will help me look up your specific order details.
</span><span id="__codeline__-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>
</span><span id="__codeline__-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>User: how are you
</span><span id="__codeline__-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>
</span><span id="__codeline__-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a>OrderSupportAgent: I&#39;m doing well, thank you for asking! I&#39;m here and ready to help you with your order. Could you please share your order ID so I can assist you with your order-related questions?
</span><span id="__codeline__-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a>
</span><span id="__codeline__-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a>User: hold on.. let me look that up
</span><span id="__codeline__-7-14"><a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a>
</span><span id="__codeline__-7-15"><a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a>OrderSupportAgent: No problem at all! Take your time finding your order ID. I&#39;ll wait here for you.
</span><span id="__codeline__-7-16"><a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a>
</span><span id="__codeline__-7-17"><a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a>User: found it 44344456
</span><span id="__codeline__-7-18"><a id="__codelineno-7-18" name="__codelineno-7-18" href="#__codelineno-7-18"></a>
</span><span id="__codeline__-7-19"><a id="__codelineno-7-19" name="__codelineno-7-19" href="#__codelineno-7-19"></a>OrderSupportAgent: Perfect! Thank you for providing your order ID: 44344456. I have that recorded now.
</span></code></pre></div>
</details>

<p>Notice that now the agent engaged in a conversation with the user while waiting for the order id.</p>
<h3 id="0203-agent-behavior">02.03 Agent Behavior<a class="headerlink" href="#0203-agent-behavior" title="Permanent link">&para;</a></h3>
<p>This behavior trait can be added to the agent's instructions so it applies to any time the agent asks the user for some information.</p>
<p>examples/tutorials/02.03/<a href="https://github.com/playbooks-ai/playbooks/tree/master/examples/tutorials/02.03/order_assistant.pb">order_assistant.pb</a></p>
<div class="language-markdown highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">order_assistant.pb</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-8-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-8-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-8-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-8-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-8-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-8-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-8-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-8-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-8-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-8-10">10</a></span>
<span class="normal"><a href="#__codelineno-8-11">11</a></span>
<span class="normal"><a href="#__codelineno-8-12">12</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__codeline__-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1"></a><span class="gh"># Order Support Agent</span>
</span><span id="__codeline__-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2"></a>You are an agent that greets users and helps with order questions. Note that your capabilities are limited to the playbooks defined below.
</span><span id="__codeline__-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3"></a>Whenever you are asking for some information from the user, you engage the user in a conversation if needed without being pushy and you will wait for appropriate place in conversation to remind the user.
</span><span id="__codeline__-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4"></a>
</span><span id="__codeline__-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5"></a><span class="gu">## Main</span>
</span><span id="__codeline__-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6"></a><span class="gu">### Triggers</span>
</span><span id="__codeline__-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7"></a><span class="k">-</span><span class="w"> </span>At the beginning
</span><span id="__codeline__-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8"></a><span class="gu">### Steps</span>
</span><span id="__codeline__-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9"></a><span class="k">-</span><span class="w"> </span>Greet the user and explain what you can help with
</span><span id="__codeline__-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10"></a><span class="k">-</span><span class="w"> </span>Ask user for their order id
</span><span id="__codeline__-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11"></a><span class="k">-</span><span class="w"> </span>Thank the user for providing the order id
</span><span id="__codeline__-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12"></a><span class="k">-</span><span class="w"> </span>End program
</span></code></pre></div></td></tr></table></div>
<p>Changes:</p>
<ul>
<li>Line 3: We added instructions for the agent</li>
</ul>
<details>
<summary>Output</summary>
<div class="language-text highlight"><pre><span></span><code><span id="__codeline__-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>&gt; playbooks run examples/tutorials/02.03/order_assistant.pb
</span><span id="__codeline__-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>ℹ Loading playbooks from: [&#39;examples/tutorials/02.03/order_assistant.pb&#39;]
</span><span id="__codeline__-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>  Compiling agent: Order Support Agent
</span><span id="__codeline__-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>
</span><span id="__codeline__-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>OrderSupportAgent: Hello! I&#39;m your Order Support Agent. I&#39;m here to help you with any questions about your orders. I can assist you with tracking, status updates, and general order inquiries.
</span><span id="__codeline__-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>
</span><span id="__codeline__-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>OrderSupportAgent: To get started, could you please provide your order ID? This will help me look up your specific order details.
</span><span id="__codeline__-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>
</span><span id="__codeline__-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>User: how are you
</span><span id="__codeline__-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a>
</span><span id="__codeline__-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a>OrderSupportAgent: I&#39;m doing well, thank you for asking! I&#39;m here and ready to help you with your order questions. To assist you best, I&#39;ll still need your order ID. Could you please share that with me?
</span><span id="__codeline__-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a>
</span><span id="__codeline__-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a>User: nice weather here today.. how is it where you are
</span><span id="__codeline__-9-14"><a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a>
</span><span id="__codeline__-9-15"><a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a>OrderSupportAgent: That sounds lovely! As an AI assistant, I don&#39;t experience weather, but I&#39;m glad you&#39;re having a nice day. I&#39;d love to help you with your order - could you please share your order ID so I can assist you with any questions or concerns you might have?
</span><span id="__codeline__-9-16"><a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a>
</span><span id="__codeline__-9-17"><a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a>User: sure, i&#39;ll look that up
</span><span id="__codeline__-9-18"><a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a>
</span><span id="__codeline__-9-19"><a id="__codelineno-9-19" name="__codelineno-9-19" href="#__codelineno-9-19"></a>OrderSupportAgent: Perfect! Take your time finding your order ID. I&#39;ll be right here waiting to help you once you have it.
</span><span id="__codeline__-9-20"><a id="__codelineno-9-20" name="__codelineno-9-20" href="#__codelineno-9-20"></a>
</span><span id="__codeline__-9-21"><a id="__codelineno-9-21" name="__codelineno-9-21" href="#__codelineno-9-21"></a>User: kk it&#39;s 88788790
</span><span id="__codeline__-9-22"><a id="__codelineno-9-22" name="__codelineno-9-22" href="#__codelineno-9-22"></a>
</span><span id="__codeline__-9-23"><a id="__codelineno-9-23" name="__codelineno-9-23" href="#__codelineno-9-23"></a>OrderSupportAgent: Thank you for providing your order ID 88788790! I have that recorded now.
</span></code></pre></div>

</details>

<h2 id="3-validating-the-input">3) Validating the input<a class="headerlink" href="#3-validating-the-input" title="Permanent link">&para;</a></h2>
<p>Let's add a new playbook to validate the order id.</p>
<h3 id="0301-validation-playbook">03.01 Validation Playbook<a class="headerlink" href="#0301-validation-playbook" title="Permanent link">&para;</a></h3>
<p>examples/tutorials/03.01/<a href="https://github.com/playbooks-ai/playbooks/tree/master/examples/tutorials/03.01/order_assistant.pb">order_assistant.pb</a></p>
<div class="language-markdown highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">order_assistant.pb</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-10-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-10-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-10-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-10-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-10-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-10-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-10-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-10-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-10-10">10</a></span>
<span class="normal"><a href="#__codelineno-10-11">11</a></span>
<span class="normal"><a href="#__codelineno-10-12">12</a></span>
<span class="normal"><a href="#__codelineno-10-13">13</a></span>
<span class="normal"><a href="#__codelineno-10-14">14</a></span>
<span class="normal"><a href="#__codelineno-10-15">15</a></span>
<span class="normal"><a href="#__codelineno-10-16">16</a></span>
<span class="normal"><a href="#__codelineno-10-17">17</a></span>
<span class="normal"><a href="#__codelineno-10-18">18</a></span>
<span class="normal"><a href="#__codelineno-10-19">19</a></span>
<span class="normal"><a href="#__codelineno-10-20">20</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__codeline__-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="gh"># Order Support Agent</span>
</span><span id="__codeline__-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2"></a>You are an agent that greets users and helps with order questions. Note that your capabilities are limited to the playbooks defined below.
</span><span id="__codeline__-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3"></a>Whenever you are asking for some information from the user, you engage the user in a conversation if needed without being pushy and you will wait for appropriate place in conversation to remind the user.
</span><span id="__codeline__-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4"></a>
</span><span id="__codeline__-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5"></a><span class="gu">## Main</span>
</span><span id="__codeline__-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6"></a><span class="gu">### Triggers</span>
</span><span id="__codeline__-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7"></a><span class="k">-</span><span class="w"> </span>At the beginning
</span><span id="__codeline__-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8"></a><span class="gu">### Steps</span>
</span><span id="__codeline__-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9"></a><span class="k">-</span><span class="w"> </span>Greet the user and explain what you can help with
</span><span id="__codeline__-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10"></a><span class="k">-</span><span class="w"> </span>Ask user for their order id
</span><span id="__codeline__-10-11"><a id="__codelineno-10-11" name="__codelineno-10-11"></a><span class="k">-</span><span class="w"> </span>Validate the order id and keep asking until user provides a valid id
</span><span id="__codeline__-10-12"><a id="__codelineno-10-12" name="__codelineno-10-12"></a><span class="k">-</span><span class="w"> </span>Thank the user for providing the order id
</span><span id="__codeline__-10-13"><a id="__codelineno-10-13" name="__codelineno-10-13"></a><span class="k">-</span><span class="w"> </span>End program
</span><span id="__codeline__-10-14"><a id="__codelineno-10-14" name="__codelineno-10-14"></a>
</span><span id="__codeline__-10-15"><a id="__codelineno-10-15" name="__codelineno-10-15"></a><span class="gu">## Validate order id</span>
</span><span id="__codeline__-10-16"><a id="__codelineno-10-16" name="__codelineno-10-16"></a><span class="gu">### Steps</span>
</span><span id="__codeline__-10-17"><a id="__codelineno-10-17" name="__codelineno-10-17"></a><span class="k">-</span><span class="w"> </span>If order id is made up of 8 numbers
</span><span id="__codeline__-10-18"><a id="__codelineno-10-18" name="__codelineno-10-18"></a><span class="w">  </span><span class="k">-</span><span class="w"> </span>Return valid
</span><span id="__codeline__-10-19"><a id="__codelineno-10-19" name="__codelineno-10-19"></a><span class="k">-</span><span class="w"> </span>otherwise
</span><span id="__codeline__-10-20"><a id="__codelineno-10-20" name="__codelineno-10-20"></a><span class="w">  </span><span class="k">-</span><span class="w"> </span>Return invalid
</span></code></pre></div></td></tr></table></div>
<p>Changes:</p>
<ul>
<li>Line 15: We added a new playbook to validate the order id.</li>
<li>Line 11: After user provides the order id, now we call the <code>Validate order id</code> playbook to validate it, and engage with the user until they provide a valid id.</li>
</ul>
<details>
<summary>Output</summary>
<div class="language-text highlight"><pre><span></span><code><span id="__codeline__-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>&gt; playbooks run examples/tutorials/03.01/order_assistant.pb
</span><span id="__codeline__-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>ℹ Loading playbooks from: [&#39;examples/tutorials/03.01/order_assistant.pb&#39;]
</span><span id="__codeline__-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>  Compiling agent: Order Support Agent
</span><span id="__codeline__-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>
</span><span id="__codeline__-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>OrderSupportAgent: Hello! I&#39;m your Order Support Agent. I&#39;m here to help you with questions about your orders. I can assist you by looking up order information once you provide me with your order ID. How can I help you today?
</span><span id="__codeline__-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>
</span><span id="__codeline__-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a>OrderSupportAgent: To get started, could you please share your order ID with me? Take your time - I&#39;ll wait for you to provide it or let me know if you&#39;d prefer not to continue.
</span><span id="__codeline__-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>
</span><span id="__codeline__-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a>User: 8843
</span><span id="__codeline__-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a>
</span><span id="__codeline__-11-11"><a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a>OrderSupportAgent: I see that order ID &#39;8843&#39; isn&#39;t quite right - it looks like it needs to be 8 digits long. Could you please double-check your order ID and share the complete number with me?
</span><span id="__codeline__-11-12"><a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a>
</span><span id="__codeline__-11-13"><a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a>User: 8843A098
</span><span id="__codeline__-11-14"><a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a>
</span><span id="__codeline__-11-15"><a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a>OrderSupportAgent: I see that order ID &#39;8843A098&#39; contains letters, but order IDs should be exactly 8 digits only. Could you please check your order confirmation and share the correct 8-digit order ID?
</span><span id="__codeline__-11-16"><a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a>
</span><span id="__codeline__-11-17"><a id="__codelineno-11-17" name="__codelineno-11-17" href="#__codelineno-11-17"></a>User: 98745968
</span><span id="__codeline__-11-18"><a id="__codelineno-11-18" name="__codelineno-11-18" href="#__codelineno-11-18"></a>
</span><span id="__codeline__-11-19"><a id="__codelineno-11-19" name="__codelineno-11-19" href="#__codelineno-11-19"></a>OrderSupportAgent: Perfect! Thank you for providing your order ID 98745968. I now have all the information I need to help you with your order.
</span></code></pre></div>
</details>

<p><strong>A note to my fellow Software Engineers:</strong></p>
<p>I know, <code>Return valid</code> looks weird. What is getting returned here exactly? Is it a string or a boolean? We aren't capturing the return value in the call on line 11 either. The call <code>Validate the order id</code> also doesn't match the playbook name <code>Validate order id</code> exactly. It all seems too fuzzy and a bit magical. <em>I realize that it makes you uncomfortable.</em></p>
<p>You can <strong>make the code explicit</strong>. Declare the playbook like <code>## ValidateOrderId($order_id) -&gt; bool</code>, use <code>return true</code> and <code>return false</code>. Change the call to <code>$valid = ValidateOrderId($order_id)</code>, and so on. Have it your way! This is also valid Playbooks code, but mostly unnecessary because of the compiler (see below). On the other hand, you could -</p>
<p><strong>Embrace the magic!</strong> LLMs are highly capable semantic execution machines. By themselves, they are not reliable, so your hesitation is justifiable. But this is where the advanced engineering behind Playbooks comes in. The way Playbooks compiler and runtime are designed, you can expect reliable execution of semantic instructions. Of course, as with any AI software, thourough evaluation is still necessary.</p>
<p>The Playbooks compiler compiles <code>.pb</code> program to Playbooks Assembly Language (<code>.pbasm</code>), which converts some of the semantic instructions into explicit instructions, adds explicit type annotations, and so on. See the compiler generated PBAsm code below (actual <a href="https://github.com/playbooks-ai/playbooks/tree/master/examples/tutorials/03.01/Order_Support_Agent_6a901f96b774fe82.pbasm">file</a>) -</p>
<details>
<summary>Compiled .pbasm</summary>
<div class="language-markdown highlight"><span class="filename">Order_Support_Agent_6a901f96b774fe82.pbasm</span><pre><span></span><code><span id="__codeline__-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="gh"># OrderSupportAgent</span>
</span><span id="__codeline__-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>You are an agent that greets users and helps with order questions. Note that your capabilities are limited to the playbooks defined below.
</span><span id="__codeline__-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>Whenever you are asking for some information from the user, you engage the user in a conversation if needed without being pushy and you will wait for appropriate place in conversation to remind the user.
</span><span id="__codeline__-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>
</span><span id="__codeline__-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="gu">## Main() -&gt; None</span>
</span><span id="__codeline__-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>Main interaction flow for order support assistance
</span><span id="__codeline__-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>
</span><span id="__codeline__-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="gu">### Triggers</span>
</span><span id="__codeline__-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="k">-</span><span class="w"> </span>T1:BGN At the beginning
</span><span id="__codeline__-12-10"><a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a>
</span><span id="__codeline__-12-11"><a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a><span class="gu">### Steps</span>
</span><span id="__codeline__-12-12"><a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="k">-</span><span class="w"> </span>01:QUE Say(user, Greet the user and explain what you can help with)
</span><span id="__codeline__-12-13"><a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a><span class="k">-</span><span class="w"> </span>02:QUE Say(user, Ask user for their $order_id:str); YLD for user; done when user provides an order id or gives up
</span><span id="__codeline__-12-14"><a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a><span class="k">-</span><span class="w"> </span>03:QUE $validation_result:str = ValidateOrderId(order_id=$order_id)
</span><span id="__codeline__-12-15"><a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a><span class="k">-</span><span class="w"> </span>04:YLD for call
</span><span id="__codeline__-12-16"><a id="__codelineno-12-16" name="__codelineno-12-16" href="#__codelineno-12-16"></a><span class="k">-</span><span class="w"> </span>05:CND While $validation_result is invalid
</span><span id="__codeline__-12-17"><a id="__codelineno-12-17" name="__codelineno-12-17" href="#__codelineno-12-17"></a><span class="w">  </span><span class="k">-</span><span class="w"> </span>05.01:QUE Say(user, Ask user for a valid order id); YLD for user; done when user provides an order id or gives up
</span><span id="__codeline__-12-18"><a id="__codelineno-12-18" name="__codelineno-12-18" href="#__codelineno-12-18"></a><span class="w">  </span><span class="k">-</span><span class="w"> </span>05.02:QUE $validation_result:str = ValidateOrderId(order_id=$order_id)
</span><span id="__codeline__-12-19"><a id="__codelineno-12-19" name="__codelineno-12-19" href="#__codelineno-12-19"></a><span class="w">  </span><span class="k">-</span><span class="w"> </span>05.03:YLD for call
</span><span id="__codeline__-12-20"><a id="__codelineno-12-20" name="__codelineno-12-20" href="#__codelineno-12-20"></a><span class="w">  </span><span class="k">-</span><span class="w"> </span>05.04:JMP 05
</span><span id="__codeline__-12-21"><a id="__codelineno-12-21" name="__codelineno-12-21" href="#__codelineno-12-21"></a><span class="k">-</span><span class="w"> </span>06:QUE Say(user, Thank the user for providing the order id)
</span><span id="__codeline__-12-22"><a id="__codelineno-12-22" name="__codelineno-12-22" href="#__codelineno-12-22"></a><span class="k">-</span><span class="w"> </span>07:YLD for exit
</span><span id="__codeline__-12-23"><a id="__codelineno-12-23" name="__codelineno-12-23" href="#__codelineno-12-23"></a>
</span><span id="__codeline__-12-24"><a id="__codelineno-12-24" name="__codelineno-12-24" href="#__codelineno-12-24"></a><span class="gu">## ValidateOrderId($order_id:str) -&gt; str</span>
</span><span id="__codeline__-12-25"><a id="__codelineno-12-25" name="__codelineno-12-25" href="#__codelineno-12-25"></a>Validates if the provided order ID meets the required format
</span><span id="__codeline__-12-26"><a id="__codelineno-12-26" name="__codelineno-12-26" href="#__codelineno-12-26"></a>
</span><span id="__codeline__-12-27"><a id="__codelineno-12-27" name="__codelineno-12-27" href="#__codelineno-12-27"></a><span class="gu">### Steps</span>
</span><span id="__codeline__-12-28"><a id="__codelineno-12-28" name="__codelineno-12-28" href="#__codelineno-12-28"></a><span class="k">-</span><span class="w"> </span>01:CND If order id is made up of 8 numbers
</span><span id="__codeline__-12-29"><a id="__codelineno-12-29" name="__codelineno-12-29" href="#__codelineno-12-29"></a><span class="w">  </span><span class="k">-</span><span class="w"> </span>01.01:RET valid
</span><span id="__codeline__-12-30"><a id="__codelineno-12-30" name="__codelineno-12-30" href="#__codelineno-12-30"></a><span class="k">-</span><span class="w"> </span>02:RET invalid
</span></code></pre></div>

This looks a lot more like actual code, doesn't it? This is Assembly Language for the LLM, with opcodes like `QUE` for function calls, `CND` for conditional logic, and so on.

</details>

<p><strong><img alt="💡" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a1.svg" title=":bulb:" /> The goal is to make the agent's behavior specification as readable as possible, 
as if it is written for a competent employee.</strong></p>
<p><img alt="📚" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4da.svg" title=":books:" /> <strong>Learn more</strong>: See <a href="../programming-guide/#natural-language-vs-explicit-syntax">Natural Language vs Explicit Syntax</a> in the Programming Guide.</p>
<h3 id="0302-using-triggers">03.02 Using Triggers<a class="headerlink" href="#0302-using-triggers" title="Permanent link">&para;</a></h3>
<p>Triggers automatically invoke playbooks when conditions are met - like CPU interrupts. Let's add a trigger to the <code>Validate order id</code> playbook to <strong>automatically run</strong> when the user provides an order id.</p>
<p>examples/tutorials/03.02/<a href="https://github.com/playbooks-ai/playbooks/tree/master/examples/tutorials/03.02/order_assistant.pb">order_assistant.pb</a></p>
<div class="language-diff highlight"><span class="filename">order_assistant.pb</span><pre><span></span><code><span id="__codeline__-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="w"> </span>- At the beginning
</span><span id="__codeline__-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="w"> </span>### Steps
</span><span id="__codeline__-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="w"> </span>- Greet the user and explain what you can help with
</span><span id="__codeline__-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="gd">-- Ask user for their order id</span>
</span><span id="__codeline__-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="gd">-- Validate the order id and keep asking until user provides a valid id</span>
</span><span id="__codeline__-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="gi">+- Ask user for their order id till user provides a valid order id</span>
</span><span id="__codeline__-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="w"> </span>- Thank the user for providing the order id
</span><span id="__codeline__-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="w"> </span>- End program
</span><span id="__codeline__-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a>
</span><span id="__codeline__-13-10"><a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a><span class="w"> </span>## Validate order id
</span><span id="__codeline__-13-11"><a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a><span class="gi">+### Trigger</span>
</span><span id="__codeline__-13-12"><a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a><span class="gi">+- When user provides order id</span>
</span><span id="__codeline__-13-13"><a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a><span class="w"> </span>### Steps
</span><span id="__codeline__-13-14"><a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a><span class="w"> </span>- If order id is made up of 8 numbers
</span><span id="__codeline__-13-15"><a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a><span class="w"> </span>  - Return valid
</span></code></pre></div>
<p>Changes:</p>
<ul>
<li>We no longer need to explicitly call the <code>Validate order id</code> playbook on line 11.</li>
<li>We added a trigger condition to the <code>Validate order id</code> playbook to run automatically when the user provides an order id.</li>
</ul>
<p><img alt="💡" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4a1.svg" title=":bulb:" /> <strong>Key Benefit</strong>: Main flow stays clean. Validation happens automatically. No explicit validation calls needed.</p>
<p><img alt="📚" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4da.svg" title=":books:" /> <strong>Learn more</strong>: See <a href="../programming-guide/#triggers-event-driven-programming">Triggers: Event-Driven Programming</a> for patterns, best practices, and when to use (or avoid) triggers.</p>
<hr />
<h2 id="4-mixing-python-and-markdown-playbooks">4) Mixing Python and Markdown Playbooks<a class="headerlink" href="#4-mixing-python-and-markdown-playbooks" title="Permanent link">&para;</a></h2>
<h3 id="0401-markdown-python">04.01 Markdown → Python<a class="headerlink" href="#0401-markdown-python" title="Permanent link">&para;</a></h3>
<p>Use Python playbooks when you need data access, deterministic logic, or external libraries. Define async functions decorated with <code>@playbook</code> inside python code blocks.</p>
<p>examples/tutorials/04.01/<a href="https://github.com/playbooks-ai/playbooks/tree/master/examples/tutorials/04.01/order_assistant.pb">order_assistant.pb</a></p>
<div class="language-diff highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">order_assistant.pb</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-14-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-14-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-14-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-14-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-14-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-14-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-14-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-14-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-14-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-14-10">10</a></span>
<span class="normal"><a href="#__codelineno-14-11">11</a></span>
<span class="normal"><a href="#__codelineno-14-12">12</a></span>
<span class="normal"><a href="#__codelineno-14-13">13</a></span>
<span class="normal"><a href="#__codelineno-14-14">14</a></span>
<span class="normal"><a href="#__codelineno-14-15">15</a></span>
<span class="normal"><a href="#__codelineno-14-16">16</a></span>
<span class="normal"><a href="#__codelineno-14-17">17</a></span>
<span class="normal"><a href="#__codelineno-14-18">18</a></span>
<span class="normal"><a href="#__codelineno-14-19">19</a></span>
<span class="normal"><a href="#__codelineno-14-20">20</a></span>
<span class="normal"><a href="#__codelineno-14-21">21</a></span>
<span class="normal"><a href="#__codelineno-14-22">22</a></span>
<span class="normal"><a href="#__codelineno-14-23">23</a></span>
<span class="normal"><a href="#__codelineno-14-24">24</a></span>
<span class="normal"><a href="#__codelineno-14-25">25</a></span>
<span class="normal"><a href="#__codelineno-14-26">26</a></span>
<span class="normal"><a href="#__codelineno-14-27">27</a></span>
<span class="normal"><a href="#__codelineno-14-28">28</a></span>
<span class="normal"><a href="#__codelineno-14-29">29</a></span>
<span class="normal"><a href="#__codelineno-14-30">30</a></span>
<span class="normal"><a href="#__codelineno-14-31">31</a></span>
<span class="normal"><a href="#__codelineno-14-32">32</a></span>
<span class="normal"><a href="#__codelineno-14-33">33</a></span>
<span class="normal"><a href="#__codelineno-14-34">34</a></span>
<span class="normal"><a href="#__codelineno-14-35">35</a></span>
<span class="normal"><a href="#__codelineno-14-36">36</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__codeline__-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1"></a><span class="w"> </span># Order Support Agent
</span><span id="__codeline__-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2"></a><span class="w"> </span>You are an agent that greets users and helps with order questions. Note that your capabilities are limited to the playbooks defined below.
</span><span id="__codeline__-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3"></a><span class="w"> </span>Whenever you are asking for some information from the user, you engage the user in a conversation if needed without being pushy and you will wait for appropriate place in conversation to remind the user.
</span><span id="__codeline__-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4"></a>
</span><span id="__codeline__-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5"></a><span class="gi">+```python</span>
</span><span id="__codeline__-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6"></a><span class="gi">+# In real life you&#39;d query your DB or API here.</span>
</span><span id="__codeline__-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7"></a><span class="gi">+_FAKE_ORDERS = {</span>
</span><span id="__codeline__-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8"></a><span class="gi">+  &quot;43345678&quot;: {&quot;order_id&quot;: &quot;43345678&quot;, &quot;status&quot;: &quot;Shipped&quot;, &quot;expected_delivery_date&quot;: &quot;2025-10-02&quot;},</span>
</span><span id="__codeline__-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9"></a><span class="gi">+  &quot;29376452&quot;: {&quot;order_id&quot;: &quot;29376452&quot;, &quot;status&quot;: &quot;Processing&quot;, &quot;expected_delivery_date&quot;: &quot;2025-10-05&quot;},</span>
</span><span id="__codeline__-14-10"><a id="__codelineno-14-10" name="__codelineno-14-10"></a><span class="gi">+}</span>
</span><span id="__codeline__-14-11"><a id="__codelineno-14-11" name="__codelineno-14-11"></a><span class="gi">+</span>
</span><span id="__codeline__-14-12"><a id="__codelineno-14-12" name="__codelineno-14-12"></a><span class="gi">+@playbook</span>
</span><span id="__codeline__-14-13"><a id="__codelineno-14-13" name="__codelineno-14-13"></a><span class="gi">+async def GetOrderStatus(order_id: str) -&gt; dict:</span>
</span><span id="__codeline__-14-14"><a id="__codelineno-14-14" name="__codelineno-14-14"></a><span class="gi">+  &quot;&quot;&quot;</span>
</span><span id="__codeline__-14-15"><a id="__codelineno-14-15" name="__codelineno-14-15"></a><span class="gi">+  Lookup an order&#39;s status by id.</span>
</span><span id="__codeline__-14-16"><a id="__codelineno-14-16" name="__codelineno-14-16"></a><span class="gi">+  Returns a dict with order_id, status, expected_delivery_date.</span>
</span><span id="__codeline__-14-17"><a id="__codelineno-14-17" name="__codelineno-14-17"></a><span class="gi">+  &quot;&quot;&quot;</span>
</span><span id="__codeline__-14-18"><a id="__codelineno-14-18" name="__codelineno-14-18"></a><span class="gi">+</span>
</span><span id="__codeline__-14-19"><a id="__codelineno-14-19" name="__codelineno-14-19"></a><span class="gi">+  info = _FAKE_ORDERS.get(order_id.upper())</span>
</span><span id="__codeline__-14-20"><a id="__codelineno-14-20" name="__codelineno-14-20"></a><span class="gi">+  if not info:</span>
</span><span id="__codeline__-14-21"><a id="__codelineno-14-21" name="__codelineno-14-21"></a><span class="gi">+    # Return user-readable errors when called from markdown</span>
</span><span id="__codeline__-14-22"><a id="__codelineno-14-22" name="__codelineno-14-22"></a><span class="gi">+    return {&quot;error&quot;: f&quot;Order {order_id} was not found.&quot;}</span>
</span><span id="__codeline__-14-23"><a id="__codelineno-14-23" name="__codelineno-14-23"></a><span class="gi">+  return info</span>
</span><span id="__codeline__-14-24"><a id="__codelineno-14-24" name="__codelineno-14-24"></a><span class="gi">+```</span>
</span><span id="__codeline__-14-25"><a id="__codelineno-14-25" name="__codelineno-14-25"></a><span class="gi">+</span>
</span><span id="__codeline__-14-26"><a id="__codelineno-14-26" name="__codelineno-14-26"></a><span class="w"> </span>## Main
</span><span id="__codeline__-14-27"><a id="__codelineno-14-27" name="__codelineno-14-27"></a><span class="w"> </span>### Triggers
</span><span id="__codeline__-14-28"><a id="__codelineno-14-28" name="__codelineno-14-28"></a><span class="w"> </span>- At the beginning
</span><span id="__codeline__-14-29"><a id="__codelineno-14-29" name="__codelineno-14-29"></a><span class="gu">@@ -9,6 +30,7 @@ Whenever you are asking for some information from the user, you engage the user</span>
</span><span id="__codeline__-14-30"><a id="__codelineno-14-30" name="__codelineno-14-30"></a><span class="w"> </span>- Greet the user and explain what you can help with
</span><span id="__codeline__-14-31"><a id="__codelineno-14-31" name="__codelineno-14-31"></a><span class="w"> </span>- Ask user for their order id till user provides a valid order id
</span><span id="__codeline__-14-32"><a id="__codelineno-14-32" name="__codelineno-14-32"></a><span class="w"> </span>- Thank the user for providing the order id
</span><span id="__codeline__-14-33"><a id="__codelineno-14-33" name="__codelineno-14-33"></a><span class="gi">+- Get order status and tell user what it is</span>
</span><span id="__codeline__-14-34"><a id="__codelineno-14-34" name="__codelineno-14-34"></a><span class="w"> </span>- End program
</span><span id="__codeline__-14-35"><a id="__codelineno-14-35" name="__codelineno-14-35"></a>
</span><span id="__codeline__-14-36"><a id="__codelineno-14-36" name="__codelineno-14-36"></a><span class="w"> </span>## Validate order id
</span></code></pre></div></td></tr></table></div>
<p>Changes:</p>
<ul>
<li>Lines 5-25: We added a Python playbook to get the order status.</li>
<li>Line 33: We added a step to get the order status and tell the user what it is.</li>
</ul>
<details>
<summary>Output (unknown order id)</summary>
<div class="language-text highlight"><pre><span></span><code><span id="__codeline__-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>&gt; playbooks run examples/tutorials/04.01/order_assistant.pb
</span><span id="__codeline__-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>ℹ Loading playbooks from: [&#39;examples/tutorials/04.01/order_assistant.pb&#39;]
</span><span id="__codeline__-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>  Compiling agent: Order Support Agent
</span><span id="__codeline__-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>
</span><span id="__codeline__-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>OrderSupportAgent: Hello! I&#39;m your Order Support Agent. I&#39;m here to help you with any questions about your orders. I can look up order status and provide information about your purchases. How can I assist you today?
</span><span id="__codeline__-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>
</span><span id="__codeline__-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a>OrderSupportAgent: To get started, could you please provide your order ID? It should be an 8-digit number.
</span><span id="__codeline__-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a>
</span><span id="__codeline__-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a>User: 34564323
</span><span id="__codeline__-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a>
</span><span id="__codeline__-15-11"><a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a>OrderSupportAgent: Thank you for providing your order ID 34564323. Let me look up the status for you.
</span><span id="__codeline__-15-12"><a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a>
</span><span id="__codeline__-15-13"><a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a>OrderSupportAgent: I&#39;m sorry, but I couldn&#39;t find order 34564323 in our system. Please double-check your order ID or contact customer service if you believe this is an error.
</span></code></pre></div>
</details>

<details>
<summary>Output (known order id)</summary>
<div class="language-text highlight"><pre><span></span><code><span id="__codeline__-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>&gt; playbooks run examples/tutorials/04.01/order_assistant.pb
</span><span id="__codeline__-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>ℹ Loading playbooks from: [&#39;examples/tutorials/04.01/order_assistant.pb&#39;]
</span><span id="__codeline__-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>
</span><span id="__codeline__-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>OrderSupportAgent: Hello! I&#39;m your Order Support Agent. I&#39;m here to help you with any questions about your orders. I can look up order status and provide information about your purchases. How can I assist you today?
</span><span id="__codeline__-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>
</span><span id="__codeline__-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>OrderSupportAgent: To get started, could you please provide your order ID? It should be an 8-digit number.
</span><span id="__codeline__-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a>
</span><span id="__codeline__-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a>User: 29376452
</span><span id="__codeline__-16-9"><a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a>
</span><span id="__codeline__-16-10"><a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a>OrderSupportAgent: Thank you for providing your order ID 29376452. Let me look up the status for you.
</span><span id="__codeline__-16-11"><a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a>
</span><span id="__codeline__-16-12"><a id="__codelineno-16-12" name="__codelineno-16-12" href="#__codelineno-16-12"></a>OrderSupportAgent: Great news! I found your order 29376452. The current status is &#39;Processing&#39; and your expected delivery date is October 5th, 2025. Your order is being prepared and will be shipped soon!
</span></code></pre></div>
</details>

<p><img alt="📚" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4da.svg" title=":books:" /> <strong>Learn more</strong>: See <a href="../programming-guide/#4-python-playbooks-hard-logic">Python Playbooks - Hard Logic</a> for full details, decorator options, and when to extract Python playbooks to MCP servers.</p>
<hr />
<h3 id="0402-python-markdown">04.02 Python → Markdown<a class="headerlink" href="#0402-python-markdown" title="Permanent link">&para;</a></h3>
<p>Let's add a Markdown playbook that summarizes the order status in a specific way, and call it from the <code>GetOrderStatus</code> playbook.</p>
<p>examples/tutorials/04.02/<a href="https://github.com/playbooks-ai/playbooks/tree/master/examples/tutorials/04.02/order_assistant.pb">order_assistant.pb</a></p>
<div class="language-diff highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">order_assistant.pb</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-17-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-17-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-17-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-17-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-17-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-17-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-17-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-17-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-17-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-17-10">10</a></span>
<span class="normal"><a href="#__codelineno-17-11">11</a></span>
<span class="normal"><a href="#__codelineno-17-12">12</a></span>
<span class="normal"><a href="#__codelineno-17-13">13</a></span>
<span class="normal"><a href="#__codelineno-17-14">14</a></span>
<span class="normal"><a href="#__codelineno-17-15">15</a></span>
<span class="normal"><a href="#__codelineno-17-16">16</a></span>
<span class="normal"><a href="#__codelineno-17-17">17</a></span>
<span class="normal"><a href="#__codelineno-17-18">18</a></span>
<span class="normal"><a href="#__codelineno-17-19">19</a></span>
<span class="normal"><a href="#__codelineno-17-20">20</a></span>
<span class="normal"><a href="#__codelineno-17-21">21</a></span>
<span class="normal"><a href="#__codelineno-17-22">22</a></span>
<span class="normal"><a href="#__codelineno-17-23">23</a></span>
<span class="normal"><a href="#__codelineno-17-24">24</a></span>
<span class="normal"><a href="#__codelineno-17-25">25</a></span>
<span class="normal"><a href="#__codelineno-17-26">26</a></span>
<span class="normal"><a href="#__codelineno-17-27">27</a></span>
<span class="normal"><a href="#__codelineno-17-28">28</a></span>
<span class="normal"><a href="#__codelineno-17-29">29</a></span>
<span class="normal"><a href="#__codelineno-17-30">30</a></span>
<span class="normal"><a href="#__codelineno-17-31">31</a></span>
<span class="normal"><a href="#__codelineno-17-32">32</a></span>
<span class="normal"><a href="#__codelineno-17-33">33</a></span>
<span class="normal"><a href="#__codelineno-17-34">34</a></span>
<span class="normal"><a href="#__codelineno-17-35">35</a></span>
<span class="normal"><a href="#__codelineno-17-36">36</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__codeline__-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1"></a><span class="w"> </span># Order Support Agent
</span><span id="__codeline__-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2"></a><span class="w"> </span>You are an agent that greets users and helps with order questions. Note that your capabilities are limited to the playbooks defined below.
</span><span id="__codeline__-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3"></a><span class="w"> </span>Whenever you are asking for some information from the user, you engage the user in a conversation if needed without being pushy and you will wait for appropriate place in conversation to remind the user.
</span><span id="__codeline__-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4"></a>
</span><span id="__codeline__-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5"></a><span class="gi">+## SummarizeOrderStatus($order_status)</span>
</span><span id="__codeline__-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6"></a><span class="gi">+### Steps</span>
</span><span id="__codeline__-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7"></a><span class="gi">+- If order was shipped</span>
</span><span id="__codeline__-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8"></a><span class="gi">+  - Return summary indicating expected_delivery_date and $1 store credit if the order gets delayed</span>
</span><span id="__codeline__-17-9"><a id="__codelineno-17-9" name="__codelineno-17-9"></a><span class="gi">+- If order is processing</span>
</span><span id="__codeline__-17-10"><a id="__codelineno-17-10" name="__codelineno-17-10"></a><span class="gi">+  - Return a summary apologizing that the order is not shipped yet and don&#39;t provide the expected delivery date unless user asked for it</span>
</span><span id="__codeline__-17-11"><a id="__codelineno-17-11" name="__codelineno-17-11"></a><span class="gi">+</span>
</span><span id="__codeline__-17-12"><a id="__codelineno-17-12" name="__codelineno-17-12"></a><span class="w"> </span>```python
</span><span id="__codeline__-17-13"><a id="__codelineno-17-13" name="__codelineno-17-13"></a><span class="w"> </span># In real life you&#39;d query your DB or API here.
</span><span id="__codeline__-17-14"><a id="__codelineno-17-14" name="__codelineno-17-14"></a><span class="w"> </span>_FAKE_ORDERS = {
</span><span id="__codeline__-17-15"><a id="__codelineno-17-15" name="__codelineno-17-15"></a><span class="gu">@@ -10,17 +17,17 @@ _FAKE_ORDERS = {</span>
</span><span id="__codeline__-17-16"><a id="__codelineno-17-16" name="__codelineno-17-16"></a><span class="w"> </span>}
</span><span id="__codeline__-17-17"><a id="__codelineno-17-17" name="__codelineno-17-17"></a>
</span><span id="__codeline__-17-18"><a id="__codelineno-17-18" name="__codelineno-17-18"></a><span class="w"> </span>@playbook
</span><span id="__codeline__-17-19"><a id="__codelineno-17-19" name="__codelineno-17-19"></a><span class="gd">-async def GetOrderStatus(order_id: str) -&gt; dict:</span>
</span><span id="__codeline__-17-20"><a id="__codelineno-17-20" name="__codelineno-17-20"></a><span class="gi">+async def GetOrderStatus(order_id: str) -&gt; str:</span>
</span><span id="__codeline__-17-21"><a id="__codelineno-17-21" name="__codelineno-17-21"></a><span class="w"> </span>  &quot;&quot;&quot;
</span><span id="__codeline__-17-22"><a id="__codelineno-17-22" name="__codelineno-17-22"></a><span class="w"> </span>  Lookup an order&#39;s status by id.
</span><span id="__codeline__-17-23"><a id="__codelineno-17-23" name="__codelineno-17-23"></a><span class="gd">-  Returns a dict with order_id, status, expected_delivery_date.</span>
</span><span id="__codeline__-17-24"><a id="__codelineno-17-24" name="__codelineno-17-24"></a><span class="gi">+  Returns a string describing order status.</span>
</span><span id="__codeline__-17-25"><a id="__codelineno-17-25" name="__codelineno-17-25"></a><span class="w"> </span>  &quot;&quot;&quot;
</span><span id="__codeline__-17-26"><a id="__codelineno-17-26" name="__codelineno-17-26"></a>
</span><span id="__codeline__-17-27"><a id="__codelineno-17-27" name="__codelineno-17-27"></a><span class="w"> </span>  info = _FAKE_ORDERS.get(order_id.upper())
</span><span id="__codeline__-17-28"><a id="__codelineno-17-28" name="__codelineno-17-28"></a><span class="w"> </span>  if not info:
</span><span id="__codeline__-17-29"><a id="__codelineno-17-29" name="__codelineno-17-29"></a><span class="w"> </span>    # Return user-readable errors when called from markdown
</span><span id="__codeline__-17-30"><a id="__codelineno-17-30" name="__codelineno-17-30"></a><span class="gd">-    return {&quot;error&quot;: f&quot;Order {order_id} was not found.&quot;}</span>
</span><span id="__codeline__-17-31"><a id="__codelineno-17-31" name="__codelineno-17-31"></a><span class="gd">-  return info</span>
</span><span id="__codeline__-17-32"><a id="__codelineno-17-32" name="__codelineno-17-32"></a><span class="gi">+    return f&quot;Order {order_id} was not found.&quot;</span>
</span><span id="__codeline__-17-33"><a id="__codelineno-17-33" name="__codelineno-17-33"></a><span class="gi">+  return await SummarizeOrderStatus(info)</span>
</span><span id="__codeline__-17-34"><a id="__codelineno-17-34" name="__codelineno-17-34"></a><span class="w"> </span>```
</span><span id="__codeline__-17-35"><a id="__codelineno-17-35" name="__codelineno-17-35"></a>
</span><span id="__codeline__-17-36"><a id="__codelineno-17-36" name="__codelineno-17-36"></a><span class="w"> </span>## Main
</span></code></pre></div></td></tr></table></div>
<p>Changes:</p>
<ul>
<li>Lines 5-11: We added a Markdown playbook to summarize the order status.</li>
<li>Line 33: We call the <code>SummarizeOrderStatus</code> playbook <code>GetOrderStatus</code> playbook.</li>
</ul>
<details>
<summary>Output (shipped order, $1 store credit)</summary>
<div class="language-text highlight"><pre><span></span><code><span id="__codeline__-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>&gt; playbooks run examples/tutorials/04.02/order_assistant.pb
</span><span id="__codeline__-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>ℹ Loading playbooks from: [&#39;examples/tutorials/04.02/order_assistant.pb&#39;]
</span><span id="__codeline__-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>  Compiling agent: Order Support Agent
</span><span id="__codeline__-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>
</span><span id="__codeline__-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>OrderSupportAgent: Hello! I&#39;m your Order Support Agent. I&#39;m here to help you check on your order status. Just provide me with your order ID and I&#39;ll look up the current status for you.
</span><span id="__codeline__-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>
</span><span id="__codeline__-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>User: 43345678
</span><span id="__codeline__-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a>
</span><span id="__codeline__-18-9"><a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a>OrderSupportAgent: Thank you for providing your order ID 43345678!
</span><span id="__codeline__-18-10"><a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a>
</span><span id="__codeline__-18-11"><a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a>OrderSupportAgent: Great news! Your order 43345678 has been shipped and is expected to be delivered on 2025-10-02. If your order gets delayed, you&#39;ll receive $1 store credit as compensation.
</span></code></pre></div>
</details>

<details>
<summary>Output (processing order)</summary>
<div class="language-text highlight"><pre><span></span><code><span id="__codeline__-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>&gt; playbooks run examples/tutorials/04.02/order_assistant.pb
</span><span id="__codeline__-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>ℹ Loading playbooks from: [&#39;examples/tutorials/04.02/order_assistant.pb&#39;]
</span><span id="__codeline__-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>
</span><span id="__codeline__-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>OrderSupportAgent: Hello! I&#39;m your Order Support Agent. I&#39;m here to help you check on your order status. Just provide me with your order ID and I&#39;ll look up the current status for you.
</span><span id="__codeline__-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>
</span><span id="__codeline__-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>User: 29376452
</span><span id="__codeline__-19-7"><a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a>
</span><span id="__codeline__-19-8"><a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a>OrderSupportAgent: Thank you for providing order ID 29376452. Let me look up the current status for you.
</span><span id="__codeline__-19-9"><a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a>
</span><span id="__codeline__-19-10"><a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a>OrderSupportAgent: I apologize, but your order is still being processed and hasn&#39;t shipped yet. We&#39;re working on getting it ready for you as soon as possible.
</span></code></pre></div>
</details>

<details>
<summary>Output (processing order, with expected delivery date)</summary>
<div class="language-text highlight"><pre><span></span><code><span id="__codeline__-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>&gt; playbooks run examples/tutorials/04.02/order_assistant.pb
</span><span id="__codeline__-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>ℹ Loading playbooks from: [&#39;examples/tutorials/04.02/order_assistant.pb&#39;]
</span><span id="__codeline__-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>
</span><span id="__codeline__-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>OrderSupportAgent: Hello! I&#39;m your Order Support Agent. I&#39;m here to help you check on your order status. Just provide me with your order ID and I&#39;ll look up the current status for you.
</span><span id="__codeline__-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>
</span><span id="__codeline__-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a>User: Here it is 29376452.. I am going on vacation soon so wondering if I get it before that.
</span><span id="__codeline__-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a>
</span><span id="__codeline__-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a>OrderSupportAgent: Thank you for providing order ID 29376452! Let me check the status for you right away.
</span><span id="__codeline__-20-9"><a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a>
</span><span id="__codeline__-20-10"><a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a>OrderSupportAgent: Your order #29376452 is currently being processed and hasn&#39;t shipped yet. However, I can see it has an expected delivery date of October 5th, 2025, so it should arrive well before your vacation! We&#39;re working on getting it ready for you as soon as possible.
</span></code></pre></div>
</details>

<h3 id="0403-description-placeholders">04.03 Description Placeholders<a class="headerlink" href="#0403-description-placeholders" title="Permanent link">&para;</a></h3>
<p>We want to check if a shipped order is overdue, but the LLM doesn't know today's date. We can inject dynamic information using <strong>description placeholders</strong> with <code>{expression}</code> syntax:</p>
<div class="language-diff highlight"><span class="filename">order_assistant.pb</span><pre><span></span><code><span id="__codeline__-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="gd">-  - Return summary indicating expected_delivery_date and $1 store credit if the order gets delayed</span>
</span><span id="__codeline__-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="gi">+  - If order is overdue</span>
</span><span id="__codeline__-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="gi">+    - Return summary with apologies for the delay and indicating that $1 store credit was added to user&#39;s account</span>
</span><span id="__codeline__-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="gi">+  - Otherwise</span>
</span><span id="__codeline__-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="gi">+    - Return summary indicating expected_delivery_date and $1 store credit if the order gets delayed</span>
</span></code></pre></div>
<p>But, the LLM won't know about today's date so we need to inject that information in the LLM context. Let's use playbook description placeholder feature to add today's date in the description of the <code>SummarizeOrder</code> playbook.</p>
<div class="language-diff highlight"><span class="filename">order_assistant.pb</span><pre><span></span><code><span id="__codeline__-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="w"> </span>## SummarizeOrderStatus($order_status)
</span><span id="__codeline__-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="gi">+Summarize order status, taking into account today&#39;s date {date.today().strftime(&quot;%Y-%m-%d&quot;)}</span>
</span></code></pre></div>
<p>Placeholder expressions are evaluated when the playbook starts. They can access variables, call playbooks, and use Python expressions. Import any needed modules in a Python code block.</p>
<p>examples/tutorials/04.03/<a href="https://github.com/playbooks-ai/playbooks/tree/master/examples/tutorials/04.03/order_assistant.pb">order_assistant.pb</a></p>
<div class="language-diff highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">order_assistant.pb</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-23-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-23-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-23-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-23-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-23-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-23-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-23-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-23-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-23-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-23-10">10</a></span>
<span class="normal"><a href="#__codelineno-23-11">11</a></span>
<span class="normal"><a href="#__codelineno-23-12">12</a></span>
<span class="normal"><a href="#__codelineno-23-13">13</a></span>
<span class="normal"><a href="#__codelineno-23-14">14</a></span>
<span class="normal"><a href="#__codelineno-23-15">15</a></span>
<span class="normal"><a href="#__codelineno-23-16">16</a></span>
<span class="normal"><a href="#__codelineno-23-17">17</a></span>
<span class="normal"><a href="#__codelineno-23-18">18</a></span>
<span class="normal"><a href="#__codelineno-23-19">19</a></span>
<span class="normal"><a href="#__codelineno-23-20">20</a></span>
<span class="normal"><a href="#__codelineno-23-21">21</a></span>
<span class="normal"><a href="#__codelineno-23-22">22</a></span>
<span class="normal"><a href="#__codelineno-23-23">23</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__codeline__-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1"></a><span class="w"> </span>## SummarizeOrderStatus($order_status)
</span><span id="__codeline__-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2"></a><span class="gi">+Summarize order status, taking into account today&#39;s date {date.today().strftime(&quot;%Y-%m-%d&quot;)}</span>
</span><span id="__codeline__-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3"></a><span class="gi">+</span>
</span><span id="__codeline__-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4"></a><span class="w"> </span>### Steps
</span><span id="__codeline__-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5"></a><span class="w"> </span>- If order was shipped
</span><span id="__codeline__-23-6"><a id="__codelineno-23-6" name="__codelineno-23-6"></a><span class="gd">-  - Return summary indicating expected_delivery_date and $1 store credit if the order gets delayed</span>
</span><span id="__codeline__-23-7"><a id="__codelineno-23-7" name="__codelineno-23-7"></a><span class="gi">+  - If order is overdue</span>
</span><span id="__codeline__-23-8"><a id="__codelineno-23-8" name="__codelineno-23-8"></a><span class="gi">+    - Return summary with apologies for the delay and indicating that $1 store credit was added to user&#39;s account</span>
</span><span id="__codeline__-23-9"><a id="__codelineno-23-9" name="__codelineno-23-9"></a><span class="gi">+  - Otherwise</span>
</span><span id="__codeline__-23-10"><a id="__codelineno-23-10" name="__codelineno-23-10"></a><span class="gi">+    - Return summary indicating expected_delivery_date and $1 store credit if the order gets delayed</span>
</span><span id="__codeline__-23-11"><a id="__codelineno-23-11" name="__codelineno-23-11"></a><span class="w"> </span>- If order is processing
</span><span id="__codeline__-23-12"><a id="__codelineno-23-12" name="__codelineno-23-12"></a><span class="w"> </span>  - Return a summary apologizing that the order is not shipped yet and don&#39;t provide the expected delivery date unless user asked for it
</span><span id="__codeline__-23-13"><a id="__codelineno-23-13" name="__codelineno-23-13"></a>
</span><span id="__codeline__-23-14"><a id="__codelineno-23-14" name="__codelineno-23-14"></a><span class="w"> </span>```python
</span><span id="__codeline__-23-15"><a id="__codelineno-23-15" name="__codelineno-23-15"></a><span class="gi">+from datetime import date</span>
</span><span id="__codeline__-23-16"><a id="__codelineno-23-16" name="__codelineno-23-16"></a><span class="gi">+</span>
</span><span id="__codeline__-23-17"><a id="__codelineno-23-17" name="__codelineno-23-17"></a><span class="w"> </span># In real life you&#39;d query your DB or API here.
</span><span id="__codeline__-23-18"><a id="__codelineno-23-18" name="__codelineno-23-18"></a><span class="w"> </span>_FAKE_ORDERS = {
</span><span id="__codeline__-23-19"><a id="__codelineno-23-19" name="__codelineno-23-19"></a><span class="gd">-  &quot;43345678&quot;: {&quot;order_id&quot;: &quot;43345678&quot;, &quot;status&quot;: &quot;Shipped&quot;, &quot;expected_delivery_date&quot;: &quot;2025-10-02&quot;},</span>
</span><span id="__codeline__-23-20"><a id="__codelineno-23-20" name="__codelineno-23-20"></a><span class="gi">+  &quot;43345678&quot;: {&quot;order_id&quot;: &quot;43345678&quot;, &quot;status&quot;: &quot;Shipped&quot;, &quot;expected_delivery_date&quot;: &quot;2025-08-02&quot;},</span>
</span><span id="__codeline__-23-21"><a id="__codelineno-23-21" name="__codelineno-23-21"></a><span class="w"> </span>  &quot;29376452&quot;: {&quot;order_id&quot;: &quot;29376452&quot;, &quot;status&quot;: &quot;Processing&quot;, &quot;expected_delivery_date&quot;: &quot;2025-10-05&quot;},
</span><span id="__codeline__-23-22"><a id="__codelineno-23-22" name="__codelineno-23-22"></a><span class="w"> </span>}
</span><span id="__codeline__-23-23"><a id="__codelineno-23-23" name="__codelineno-23-23"></a>```
</span></code></pre></div></td></tr></table></div>
<p>Changes:</p>
<ul>
<li>Line 2: Added a description with a placeholder for today's date.</li>
<li>Line 7: Updated the expected delivery date for the shipped order to be 2025-08-02 to trigger the overdue behavior.</li>
</ul>
<details>
<summary>Output</summary>
<div class="language-text highlight"><pre><span></span><code><span id="__codeline__-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>&gt; playbooks run examples/tutorials/04.03/order_assistant.pb
</span><span id="__codeline__-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a>ℹ Loading playbooks from: [&#39;examples/tutorials/04.03/order_assistant.pb&#39;]
</span><span id="__codeline__-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a>  Compiling agent: Order Support Agent
</span><span id="__codeline__-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a>
</span><span id="__codeline__-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a>OrderSupportAgent: Hello! I&#39;m your Order Support Agent. I&#39;m here to help you check on your order status. Just provide me with your order ID and I&#39;ll look up the current status for you.
</span><span id="__codeline__-24-6"><a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a>
</span><span id="__codeline__-24-7"><a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a>User: 43345678
</span><span id="__codeline__-24-8"><a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a>
</span><span id="__codeline__-24-9"><a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a>OrderSupportAgent: Thank you for providing order ID 43345678. Let me look up your order status right away.
</span><span id="__codeline__-24-10"><a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a>
</span><span id="__codeline__-24-11"><a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a>OrderSupportAgent: I apologize for the significant delay with your order 43345678. Your order was shipped but should have been delivered by August 2nd, 2025. Due to this delay, we&#39;ve added $1 store credit to your account as compensation for the inconvenience.
</span></code></pre></div>
</details>

<p><img alt="📚" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/1f4da.svg" title=":books:" /> <strong>Learn more</strong>: See <a href="../programming-guide/">Programming Guide</a> for advanced patterns and best practices.</p>
<hr />
<h2 id="next-steps">Next Steps<a class="headerlink" href="#next-steps" title="Permanent link">&para;</a></h2>
<p>Congratulations! You've built a working order assistant that:</p>
<ul>
<li>✅ Greets users and collects input conversationally</li>
<li>✅ Validates input automatically with triggers</li>
<li>✅ Mixes Python and Markdown playbooks seamlessly</li>
<li>✅ Injects dynamic context with placeholders</li>
</ul>
<p><strong>Continue Learning</strong>:</p>
<ul>
<li><strong><a href="../programming-guide/">Programming Guide</a></strong> - Comprehensive reference covering all features</li>
<li><a href="../programming-guide/#multi-agent-programs">Multi-Agent Programs</a> - Multiple agents, meetings, cross-agent calls</li>
<li><a href="../programming-guide/#2-react-playbooks-dynamic-reasoning">ReAct Playbooks</a> - Dynamic planning when steps aren't predetermined</li>
<li><a href="../programming-guide/#3-raw-prompt-playbooks-full-control">Raw Playbooks</a> - Full prompt control for single-shot tasks</li>
<li><a href="../programming-guide/#common-patterns-and-best-practices">Common Patterns</a> - Best practices and real-world patterns</li>
</ul>
<p><strong>Reference Documentation</strong>:</p>
<ul>
<li><a href="../reference/agents/">Agents</a> - Agent configuration and structure</li>
<li><a href="../reference/mcp-agent/">MCP Agents</a> - Integrating external tools via MCP</li>
<li><a href="../reference/triggers/">Triggers</a> - Event-driven programming details</li>
<li><a href="../reference/playbook-types/">Playbook Types</a> - Deep dive on all playbook types</li>
</ul>
<p><strong>Ready to build?</strong> Start with the <a href="../programming-guide/">Programming Guide</a> and explore the examples in the <a href="https://github.com/playbooks-ai/playbooks/tree/master/examples">Playbooks repository</a>.</p>









  




                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../programming-guide/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Programming Guide">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Programming Guide
              </div>
            </div>
          </a>
        
        
          
          <a href="../reference/" class="md-footer__link md-footer__link--next" aria-label="Next: Playbooks Reference Documentation">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Playbooks Reference Documentation
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright Playbooks AI 2025
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["content.code.annotate", "content.code.copy", "content.code.select", "content.tabs.link", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.instant.progress", "navigation.path", "navigation.top", "navigation.tracking", "toc.follow"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>