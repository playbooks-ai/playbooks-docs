
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Build AI Agents with Natural Language Programming">
      
      
      
        <link rel="canonical" href="https://github.com/playbooks-ai/playbooks/reference/playbooks-assembly-language/">
      
      
        <link rel="prev" href="../playbooks-language/">
      
      
        <link rel="next" href="../agents/">
      
      
      <link rel="icon" href="../../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.12">
    
    
      
        <title>Playbooks Assembly Language - Playbooks AI</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.2afb09e1.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Google+Sans:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Google Sans";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../assets/stylesheets/custom.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="slate" data-md-color-accent="slate">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#playbooks-assembly-language-pbasm" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Playbooks AI" class="md-header__button md-logo" aria-label="Playbooks AI" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80v352c0 17.4 9.4 33.4 24.5 41.9S58.2 482 73 473l288-176c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Playbooks AI
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Playbooks Assembly Language
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="slate" data-md-color-accent="slate"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/playbooks-ai/playbooks" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    playbooks
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Playbooks AI" class="md-nav__button md-logo" aria-label="Playbooks AI" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80v352c0 17.4 9.4 33.4 24.5 41.9S58.2 482 73 473l288-176c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41z"/></svg>

    </a>
    Playbooks AI
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/playbooks-ai/playbooks" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    playbooks
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tutorials/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Configuration System
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Supported Models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../playbooks-ai/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Playbooks AI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../playbooks-language/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Playbooks Language
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Playbooks Assembly Language
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Playbooks Assembly Language
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-llm-as-cpu-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      The LLM as CPU Architecture
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The LLM as CPU Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#traditional-cpu-vs-llm-execution-engine" class="md-nav__link">
    <span class="md-ellipsis">
      Traditional CPU vs LLM Execution Engine
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-pbasm-instruction-set" class="md-nav__link">
    <span class="md-ellipsis">
      The PBAsm Instruction Set
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The PBAsm Instruction Set">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#core-instructions" class="md-nav__link">
    <span class="md-ellipsis">
      Core Instructions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#yield-reasons" class="md-nav__link">
    <span class="md-ellipsis">
      Yield Reasons
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#structured-output-protocol" class="md-nav__link">
    <span class="md-ellipsis">
      Structured Output Protocol
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Structured Output Protocol">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#variable-operations" class="md-nav__link">
    <span class="md-ellipsis">
      Variable Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-calls" class="md-nav__link">
    <span class="md-ellipsis">
      Function Calls
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trigger-events-llm-interrupts" class="md-nav__link">
    <span class="md-ellipsis">
      Trigger Events (LLM Interrupts)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compilation-from-playbooks-language" class="md-nav__link">
    <span class="md-ellipsis">
      Compilation from Playbooks Language
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Compilation from Playbooks Language">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#source-format-playbooks-language" class="md-nav__link">
    <span class="md-ellipsis">
      Source Format (Playbooks Language)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compiled-format-pbasm" class="md-nav__link">
    <span class="md-ellipsis">
      Compiled Format (PBAsm)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#line-numbering-and-control-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Line Numbering and Control Flow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#trigger-system-llm-interrupts" class="md-nav__link">
    <span class="md-ellipsis">
      Trigger System: LLM Interrupts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Trigger System: LLM Interrupts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trigger-types" class="md-nav__link">
    <span class="md-ellipsis">
      Trigger Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trigger-registration-and-handling" class="md-nav__link">
    <span class="md-ellipsis">
      Trigger Registration and Handling
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interrupt-handling-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Interrupt Handling Flow
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-patterns-and-best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Key Patterns and Best Practices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Key Patterns and Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#function-call-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      Function Call Patterns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-interaction-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      User Interaction Patterns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metadata-and-public-playbooks" class="md-nav__link">
    <span class="md-ellipsis">
      Metadata and Public Playbooks
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advantages-of-pbasm" class="md-nav__link">
    <span class="md-ellipsis">
      Advantages of PBAsm
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Agents
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mcp-agent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MCP based Agents
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../exported-and-public-playbooks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Exported and Public Playbooks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../playbook-types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Playbook Types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../builtin-playbooks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Built-in Playbooks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../triggers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Triggers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../context-engineering/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Context Engineering
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../description-placeholders/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Description Placeholders
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-llm-as-cpu-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      The LLM as CPU Architecture
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The LLM as CPU Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#traditional-cpu-vs-llm-execution-engine" class="md-nav__link">
    <span class="md-ellipsis">
      Traditional CPU vs LLM Execution Engine
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-pbasm-instruction-set" class="md-nav__link">
    <span class="md-ellipsis">
      The PBAsm Instruction Set
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The PBAsm Instruction Set">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#core-instructions" class="md-nav__link">
    <span class="md-ellipsis">
      Core Instructions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#yield-reasons" class="md-nav__link">
    <span class="md-ellipsis">
      Yield Reasons
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#structured-output-protocol" class="md-nav__link">
    <span class="md-ellipsis">
      Structured Output Protocol
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Structured Output Protocol">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#variable-operations" class="md-nav__link">
    <span class="md-ellipsis">
      Variable Operations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#function-calls" class="md-nav__link">
    <span class="md-ellipsis">
      Function Calls
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trigger-events-llm-interrupts" class="md-nav__link">
    <span class="md-ellipsis">
      Trigger Events (LLM Interrupts)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compilation-from-playbooks-language" class="md-nav__link">
    <span class="md-ellipsis">
      Compilation from Playbooks Language
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Compilation from Playbooks Language">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#source-format-playbooks-language" class="md-nav__link">
    <span class="md-ellipsis">
      Source Format (Playbooks Language)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compiled-format-pbasm" class="md-nav__link">
    <span class="md-ellipsis">
      Compiled Format (PBAsm)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#line-numbering-and-control-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Line Numbering and Control Flow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#trigger-system-llm-interrupts" class="md-nav__link">
    <span class="md-ellipsis">
      Trigger System: LLM Interrupts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Trigger System: LLM Interrupts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trigger-types" class="md-nav__link">
    <span class="md-ellipsis">
      Trigger Types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trigger-registration-and-handling" class="md-nav__link">
    <span class="md-ellipsis">
      Trigger Registration and Handling
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interrupt-handling-flow" class="md-nav__link">
    <span class="md-ellipsis">
      Interrupt Handling Flow
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#key-patterns-and-best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      Key Patterns and Best Practices
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Key Patterns and Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#function-call-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      Function Call Patterns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-interaction-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      User Interaction Patterns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metadata-and-public-playbooks" class="md-nav__link">
    <span class="md-ellipsis">
      Metadata and Public Playbooks
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advantages-of-pbasm" class="md-nav__link">
    <span class="md-ellipsis">
      Advantages of PBAsm
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="playbooks-assembly-language-pbasm">Playbooks Assembly Language (PBAsm)<a class="headerlink" href="#playbooks-assembly-language-pbasm" title="Permanent link">&para;</a></h1>
<p>The Playbooks Assembly Language (PBAsm) is a low-level, structured representation of Playbooks programs designed specifically for execution by Large Language Models (LLMs). Just as traditional assembly languages use instruction sets optimized for CPU architectures, PBAsm uses an instruction set optimized for the unique capabilities and characteristics of LLMs as execution engines.</p>
<h2 id="the-llm-as-cpu-architecture">The LLM as CPU Architecture<a class="headerlink" href="#the-llm-as-cpu-architecture" title="Permanent link">&para;</a></h2>
<h3 id="traditional-cpu-vs-llm-execution-engine">Traditional CPU vs LLM Execution Engine<a class="headerlink" href="#traditional-cpu-vs-llm-execution-engine" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th></th>
<th><strong>CPU Executing Assembly/Binary code</strong></th>
<th><strong>LLM Executing PBAsm code</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Instruction Format</strong></td>
<td>Binary opcodes (e.g., <code>0x89 0xE5</code> for MOV EBP, ESP)</td>
<td>Semantic instructions (e.g., <code>01:EXE Var[$name:str, "Alice"]</code>)</td>
</tr>
<tr>
<td><strong>Basic Instructions</strong></td>
<td>MOV, ADD, JMP, CALL, RET, CMP</td>
<td>EXE, TNK, QUE, CND, CHK, YLD, JMP, RET</td>
</tr>
<tr>
<td><strong>Memory Model</strong></td>
<td>Direct memory addresses, registers (EAX, EBX, ESP)</td>
<td>Short term memory with variables (<code>$name:str</code>, <code>$count:int</code>), Long term memory system</td>
</tr>
<tr>
<td><strong>Variable Assignment</strong></td>
<td><code>MOV [0x1000], 42</code> (write to memory address)</td>
<td><code>Var[$count:int, 42]</code> (semantic variable binding)</td>
</tr>
<tr>
<td><strong>Function Calls</strong></td>
<td><code>PUSH params; CALL 0x4000; POP result</code></td>
<td><code>$result = FunctionName(param=$value); YLD call</code></td>
</tr>
<tr>
<td><strong>Control Flow</strong></td>
<td><code>CMP EAX, 0; JE label</code> (compare and jump)</td>
<td><code>02:CND If $name is provided</code> (semantic condition)</td>
</tr>
<tr>
<td><strong>Loops</strong></td>
<td><code>loop_start: DEC ECX; JNZ loop_start</code></td>
<td><code>03:CND While $i &lt; 10</code> with nested steps</td>
</tr>
<tr>
<td><strong>Stack Operations</strong></td>
<td><code>PUSH EAX; POP EBX</code> (explicit stack manipulation)</td>
<td>Implicit call stack managed by runtime</td>
</tr>
<tr>
<td><strong>Return Values</strong></td>
<td>Store in EAX register by convention</td>
<td><code>04:RET $result</code> (explicit return statement)</td>
</tr>
<tr>
<td><strong>Interrupts</strong></td>
<td>INT 0x80 (system call), hardware IRQ</td>
<td><code>Trigger["PlaybookName:01:EVT"]</code> (semantic events)</td>
</tr>
<tr>
<td><strong>Yielding Control</strong></td>
<td>Context switch via OS scheduler</td>
<td><code>YLD user/call/exit</code> (explicit yield reasons)</td>
</tr>
<tr>
<td><strong>Line Addressing</strong></td>
<td>Absolute/relative addresses (0x4000, +10)</td>
<td>Hierarchical numbering (01, 01.01, 01.01.01)</td>
</tr>
<tr>
<td><strong>Conditional Execution</strong></td>
<td>Flag-based (ZF, CF, OF) after CMP</td>
<td>Natural language conditions evaluated by LLM</td>
</tr>
<tr>
<td><strong>Data Types</strong></td>
<td>Primitive (byte, word, dword, float)</td>
<td>Semantic types (str, int, float, bool, list, dict, artifact, memory)</td>
</tr>
<tr>
<td><strong>Error Handling</strong></td>
<td>Segfault, divide by zero, invalid opcode</td>
<td>Graceful degradation, runtime validation of outputs</td>
</tr>
<tr>
<td><strong>Debugging</strong></td>
<td>GDB breakpoints, register inspection</td>
<td>VSCode debugger - step debugging, variable inspection</td>
</tr>
<tr>
<td><strong>Side Effects</strong></td>
<td>Direct I/O port access, memory writes</td>
<td>Queued operations via QUE, verified by runtime</td>
</tr>
<tr>
<td><strong>Compilation</strong></td>
<td>Source → AST → Machine code</td>
<td>Playbooks → PBAsm → Runtime Context → LLM tokens</td>
</tr>
<tr>
<td><strong>Parallelism</strong></td>
<td>Out-of-order execution, SIMD</td>
<td>Queued operations can batch (multiple QUE before YLD)</td>
</tr>
<tr>
<td><strong>State Persistence</strong></td>
<td>CPU registers reset on context switch</td>
<td>Variables persist across YLD operations</td>
</tr>
<tr>
<td><strong>Program Counter</strong></td>
<td>EIP/RIP register points to next instruction</td>
<td>Runtime tracks current playbook line number (e.g. OrderStatus:01.03)</td>
</tr>
<tr>
<td><strong>Subroutines</strong></td>
<td>CALL pushes return address, RET pops</td>
<td>Playbook calls with QUE, across agents</td>
</tr>
<tr>
<td><strong>Execution Context</strong></td>
<td>CPU state (registers, flags, stack)</td>
<td>Conversation history, variable state, queued ops</td>
</tr>
</tbody>
</table>
<h2 id="the-pbasm-instruction-set">The PBAsm Instruction Set<a class="headerlink" href="#the-pbasm-instruction-set" title="Permanent link">&para;</a></h2>
<p>PBAsm's instruction set is specifically designed for these LLM characteristics:</p>
<h3 id="core-instructions">Core Instructions<a class="headerlink" href="#core-instructions" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Instruction</th>
<th>Purpose</th>
<th>LLM Operation</th>
<th>Runtime Verification</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>EXE</strong></td>
<td>Execute imperative action/assignment</td>
<td>Process semantic instruction, update state</td>
<td>Parse variable assignments, validate state changes</td>
</tr>
<tr>
<td><strong>TNK</strong></td>
<td>Think deeply step by step</td>
<td>Engage reasoning capabilities before proceeding</td>
<td>Verify structured thinking output</td>
</tr>
<tr>
<td><strong>QUE</strong></td>
<td>Queue playbook/function call</td>
<td>Prepare asynchronous operation</td>
<td>Parse function calls with parameters</td>
</tr>
<tr>
<td><strong>CND</strong></td>
<td>Conditional/loop construct</td>
<td>Evaluate semantic conditions and control flow</td>
<td>Track conditional logic and execution paths</td>
</tr>
<tr>
<td><strong>CHK</strong></td>
<td>Apply contextual note/rule</td>
<td>Incorporate business rules into context</td>
<td>Verify rule application</td>
</tr>
<tr>
<td><strong>RET</strong></td>
<td>Return from playbook</td>
<td>Complete function execution with optional value</td>
<td>Parse return values</td>
</tr>
<tr>
<td><strong>JMP</strong></td>
<td>Jump to specific line</td>
<td>Transfer execution control</td>
<td>Validate line number targets</td>
</tr>
<tr>
<td><strong>YLD</strong></td>
<td>Yield control to runtime</td>
<td>Pause execution, transfer control</td>
<td>Parse yield targets (user/call/return/exit)</td>
</tr>
</tbody>
</table>
<h3 id="yield-reasons">Yield Reasons<a class="headerlink" href="#yield-reasons" title="Permanent link">&para;</a></h3>
<p>The <strong>YLD</strong> instruction includes specific reasons that define why the LLM is yielding control:</p>
<ul>
<li><code>YLD call</code> - Execute queued function calls (including Say() calls)</li>
<li><code>YLD user</code> - Wait for user input (only after asking for input)</li>
<li><code>YLD agent</code> - Wait for input from another agent</li>
<li><code>YLD meeting</code> - Wait for input from a meeting you are participating in</li>
<li><code>YLD exit</code> - Terminate the program</li>
</ul>
<h2 id="structured-output-protocol">Structured Output Protocol<a class="headerlink" href="#structured-output-protocol" title="Permanent link">&para;</a></h2>
<p>Unlike traditional assembly that modifies CPU registers, PBAsm instructions produce structured outputs that the runtime can parse and verify:</p>
<h3 id="variable-operations">Variable Operations<a class="headerlink" href="#variable-operations" title="Permanent link">&para;</a></h3>
<p><div class="language-text highlight"><pre><span></span><code><span id="__codeline__-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>Var[$name, &lt;value&gt;]
</span></code></pre></div>
Similar to how assembly instructions modify CPU registers, but operates on named variables with semantic meaning. Variables must include type annotations: <code>$varname:type</code> where type is one of: <code>str</code>, <code>int</code>, <code>float</code>, <code>bool</code>, <code>list</code>, <code>dict</code>, <code>artifact</code>.</p>
<h3 id="function-calls">Function Calls<a class="headerlink" href="#function-calls" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__codeline__-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>$result = PlaybookName(param1, param2=$value2) ← Standard Python syntax
</span><span id="__codeline__-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>$result = Call PlaybookName with param1, param2=$value2 ← Natural language syntax
</span><span id="__codeline__-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>Get $result from PlaybookName ← Implicit argument passing
</span><span id="__codeline__-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>$result = PlaybookName(task user specified, details=details of the task) ← Natural language arguments
</span></code></pre></div>
<h3 id="trigger-events-llm-interrupts">Trigger Events (LLM Interrupts)<a class="headerlink" href="#trigger-events-llm-interrupts" title="Permanent link">&para;</a></h3>
<p><div class="language-text highlight"><pre><span></span><code><span id="__codeline__-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>### Triggers
</span><span id="__codeline__-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>- T1:BGN When program starts
</span></code></pre></div>
PBAsm's interrupt system - the LLM can signal semantic events that interrupt normal execution flow and trigger other playbooks to execute, similar to how hardware/software interrupts work in traditional CPUs.</p>
<h2 id="compilation-from-playbooks-language">Compilation from Playbooks Language<a class="headerlink" href="#compilation-from-playbooks-language" title="Permanent link">&para;</a></h2>
<h3 id="source-format-playbooks-language">Source Format (Playbooks Language)<a class="headerlink" href="#source-format-playbooks-language" title="Permanent link">&para;</a></h3>
<div class="language-markdown highlight"><pre><span></span><code><span id="__codeline__-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="gu">## GreetUser</span>
</span><span id="__codeline__-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>This playbook greets the user and asks for their name.
</span><span id="__codeline__-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>
</span><span id="__codeline__-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="gu">### Triggers</span>
</span><span id="__codeline__-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="k">-</span><span class="w"> </span>At the beginning
</span><span id="__codeline__-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>
</span><span id="__codeline__-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="gu">### Steps</span>
</span><span id="__codeline__-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="k">-</span><span class="w"> </span>Greet the user and ask for their name
</span><span id="__codeline__-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="k">-</span><span class="w"> </span>If name is provided
</span><span id="__codeline__-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="w">  </span><span class="k">-</span><span class="w"> </span>Thank the user by name
</span><span id="__codeline__-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="k">-</span><span class="w"> </span>Otherwise
</span><span id="__codeline__-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="w">  </span><span class="k">-</span><span class="w"> </span>Ask for their name again
</span></code></pre></div>
<h3 id="compiled-format-pbasm">Compiled Format (PBAsm)<a class="headerlink" href="#compiled-format-pbasm" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__codeline__-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>## GreetUser() -&gt; None
</span><span id="__codeline__-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>This playbook greets the user and asks for their name.
</span><span id="__codeline__-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>### Triggers
</span><span id="__codeline__-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>- T1:BGN At the beginning
</span><span id="__codeline__-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>### Steps
</span><span id="__codeline__-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>- 01:QUE Say(Greet the user and ask for their $name:str); YLD user
</span><span id="__codeline__-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>- 02:CND If $name is provided
</span><span id="__codeline__-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>  - 02.01:QUE Say(Thank the user by $name); YLD call
</span><span id="__codeline__-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>- 03:CND Otherwise
</span><span id="__codeline__-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>  - 03.01:QUE Say(Ask for their $name:str again); YLD user
</span><span id="__codeline__-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a>- 04:RET
</span></code></pre></div>
<h2 id="line-numbering-and-control-flow">Line Numbering and Control Flow<a class="headerlink" href="#line-numbering-and-control-flow" title="Permanent link">&para;</a></h2>
<p>PBAsm uses a hierarchical line numbering system that enables precise control flow:</p>
<ul>
<li><strong>Top-level steps</strong>: <code>01</code>, <code>02</code>, <code>03</code></li>
<li><strong>Sub-steps</strong>: <code>01.01</code>, <code>01.02</code>, <code>01.03</code></li>
<li><strong>Nested sub-steps</strong>: <code>01.01.01</code>, <code>01.01.02</code></li>
</ul>
<p>This enables:
- <strong>Precise jumping</strong>: <code>JMP 01</code> to return to a specific line (used in loops)
- <strong>Conditional nesting</strong>: Clear structure for if/else and loops
- <strong>Error recovery</strong>: Ability to resume at specific execution points</p>
<h2 id="trigger-system-llm-interrupts">Trigger System: LLM Interrupts<a class="headerlink" href="#trigger-system-llm-interrupts" title="Permanent link">&para;</a></h2>
<p>PBAsm includes a sophisticated interrupt system that leverages the LLM's ability to recognize semantic patterns. Like traditional CPU interrupts, PBAsm triggers can interrupt normal execution flow when specific conditions are met:</p>
<h3 id="trigger-types">Trigger Types<a class="headerlink" href="#trigger-types" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>BGN</strong> (Beginning): Execute when program starts</li>
<li><strong>CND</strong> (Conditional): Execute when semantic conditions are met</li>
<li><strong>EVT</strong> (Event): Execute on external events</li>
</ul>
<h3 id="trigger-registration-and-handling">Trigger Registration and Handling<a class="headerlink" href="#trigger-registration-and-handling" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__codeline__-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>### Triggers
</span><span id="__codeline__-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>- T1:CND When user provides their email address
</span><span id="__codeline__-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>- T2:BGN At the beginning  
</span><span id="__codeline__-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>- T3:EVT When payment processed event is received
</span><span id="__codeline__-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>- T4:EVT When Accountant agent is ready with the invoice
</span></code></pre></div>
<p>The LLM continuously monitors these semantic conditions during execution. When a trigger condition is met, it interrupts the current playbook execution, saves the current state, and invokes the triggered playbook - much like how a CPU handles interrupts.</p>
<h3 id="interrupt-handling-flow">Interrupt Handling Flow<a class="headerlink" href="#interrupt-handling-flow" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Normal Execution</strong>: LLM processes instructions sequentially</li>
<li><strong>Condition Detection</strong>: After each step, LLM evaluates trigger conditions  </li>
<li><strong>Interrupt Signal</strong>: If condition is met, LLM signals <code>Trigger["PlaybookName:Line:Code"]</code></li>
<li><strong>State Preservation</strong>: Current execution context is maintained</li>
<li><strong>Handler Invocation</strong>: Triggered playbook begins execution</li>
<li><strong>Return/Continue</strong>: After handling, execution resumes or transfers control</li>
</ol>
<p>This interrupt-driven architecture enables reactive, event-driven AI systems that can respond to changing conditions without polling - a fundamental advance in AI agent architecture.</p>
<h2 id="key-patterns-and-best-practices">Key Patterns and Best Practices<a class="headerlink" href="#key-patterns-and-best-practices" title="Permanent link">&para;</a></h2>
<h3 id="function-call-patterns">Function Call Patterns<a class="headerlink" href="#function-call-patterns" title="Permanent link">&para;</a></h3>
<p><strong>Simple function call:</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__codeline__-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>01:QUE $result:dict = GetWeather(city=$city); YLD call
</span></code></pre></div></p>
<p><strong>Nested function calls (decomposed):</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__codeline__-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>01:QUE $temp:str = FuncB(x=$x); YLD call
</span><span id="__codeline__-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>02:QUE $result:dict = FuncA(param=$temp); YLD call
</span></code></pre></div></p>
<p><strong>Cross-agent calls:</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__codeline__-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>01:QUE $weather:dict = WeatherAgent.GetCurrentWeather(zip=98053); YLD call
</span></code></pre></div></p>
<p><strong>Batch call processing (concurrent execution):</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__codeline__-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>01:EXE Initialize empty $results:dict
</span><span id="__codeline__-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>02:CND For each $item in $items:list
</span><span id="__codeline__-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>  02.01:QUE ProcessItem(item=$item); do not yield
</span><span id="__codeline__-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>03:YLD call to execute all queued calls concurrently
</span><span id="__codeline__-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>04:EXE Collect results into $results:dict by item id
</span></code></pre></div></p>
<h3 id="user-interaction-patterns">User Interaction Patterns<a class="headerlink" href="#user-interaction-patterns" title="Permanent link">&para;</a></h3>
<p><strong>Single question:</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__codeline__-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>01:QUE Say(Ask user for their $name:str); YLD user
</span></code></pre></div></p>
<p><strong>Multi-turn conversation:</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__codeline__-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>01:QUE Say(Welcome and ask how to help); YLD user
</span><span id="__codeline__-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>02:QUE Say(Continue conversation to meet criteria); YLD user; done after criteria met
</span></code></pre></div></p>
<p><strong>Enqueue multiple messages:</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__codeline__-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>01:QUE Say(Present options); no yield needed
</span><span id="__codeline__-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>02:QUE Say(Ask user to select one); YLD user
</span></code></pre></div></p>
<h3 id="metadata-and-public-playbooks">Metadata and Public Playbooks<a class="headerlink" href="#metadata-and-public-playbooks" title="Permanent link">&para;</a></h3>
<p>Agents and playbooks can include metadata in YAML format:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__codeline__-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a># AgentName
</span><span id="__codeline__-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>metadata:
</span><span id="__codeline__-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>  model: claude-sonnet-4.0
</span><span id="__codeline__-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>  author: name@example.com
</span><span id="__codeline__-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>---
</span><span id="__codeline__-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>Agent description
</span><span id="__codeline__-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a>
</span><span id="__codeline__-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a>## PlaybookName
</span><span id="__codeline__-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a>metadata:
</span><span id="__codeline__-13-10"><a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a>  public: true
</span><span id="__codeline__-13-11"><a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a>---
</span><span id="__codeline__-13-12"><a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a>Playbook description
</span></code></pre></div>
<p>Public playbooks are exposed for cross-agent communication and included in the generated <code>public.json</code>.</p>
<h2 id="advantages-of-pbasm">Advantages of PBAsm<a class="headerlink" href="#advantages-of-pbasm" title="Permanent link">&para;</a></h2>
<ol>
<li><strong>Semantic Precision</strong>: Natural language instructions with assembly-like precision</li>
<li><strong>Interoperability</strong>: Multiple authoring tools can target PBAsm</li>
<li><strong>Analysis capability</strong>: Static analysis tools can examine PBAsm programs</li>
<li><strong>Runtime flexibility</strong>: Different LLM runtimes can execute the same PBAsm code</li>
<li><strong>Debugging support</strong>: Clear execution model enables sophisticated debugging tools</li>
<li><strong>Concurrent execution</strong>: Support for batched operations and asynchronous calls</li>
<li><strong>Cross-agent communication</strong>: Built-in support for multi-agent systems</li>
</ol>
<h2 id="conclusion">Conclusion<a class="headerlink" href="#conclusion" title="Permanent link">&para;</a></h2>
<p>PBAsm represents a foundational step toward treating LLMs as first-class computational engines with their own optimized instruction sets, enabling the development of reliable, scalable, and maintainable AI agent systems. By providing a structured intermediate representation between natural language and LLM execution, PBAsm enables sophisticated tooling, analysis, and runtime optimization while maintaining the semantic richness that makes LLM-based computing powerful.</p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../playbooks-language/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Playbooks Language">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Playbooks Language
              </div>
            </div>
          </a>
        
        
          
          <a href="../agents/" class="md-footer__link md-footer__link--next" aria-label="Next: Agents">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Agents
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright Playbooks AI 2025
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate", "content.code.copy", "content.code.select", "content.tabs.link", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.instant.progress", "navigation.path", "navigation.top", "navigation.tracking", "toc.follow"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>